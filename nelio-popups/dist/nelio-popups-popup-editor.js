(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.data;function n(e,n){return(0,t.useSelect)(e,n)}const o=window.wp.hooks,s=window.wp.plugins;var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),a=Math.abs,l=String.fromCharCode,r=Object.assign;function p(e){return e.trim()}function c(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function x(e,t,n){return e.slice(t,n)}function g(e){return e.length}function m(e){return e.length}function h(e,t){return t.push(e),e}var b=1,f=1,v=0,y=0,j=0,_="";function k(e,t,n,o,s,i,a){return{value:e,root:t,parent:n,type:o,props:s,children:i,line:b,column:f,length:a,return:""}}function C(e,t){return r(k("",null,null,"",null,null,0),e,{length:-e.length},t)}function w(){return j=y>0?d(_,--y):0,f--,10===j&&(f=1,b--),j}function O(){return j=y<v?d(_,y++):0,f++,10===j&&(f=1,b++),j}function B(){return d(_,y)}function S(){return y}function I(e,t){return x(_,e,t)}function V(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return b=f=1,v=g(_=e),y=0,[]}function T(e){return _="",e}function E(e){return p(I(y-1,P(91===e?e+2:40===e?e+1:e)))}function A(e){for(;(j=B())&&j<33;)O();return V(e)>2||V(j)>3?"":" "}function $(e,t){for(;--t&&O()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return I(e,S()+(t<6&&32==B()&&32==O()))}function P(e){for(;O();)switch(j){case e:return y;case 34:case 39:34!==e&&39!==e&&P(j);break;case 40:41===e&&P(e);break;case 92:O()}return y}function D(e,t){for(;O()&&e+j!==57&&(e+j!==84||47!==B()););return"/*"+I(t,y-1)+"*"+l(47===e?e:O())}function F(e){for(;!V(B());)O();return I(e,y)}var R="-ms-",z="-moz-",M="-webkit-",L="comm",G="rule",H="decl",W="@keyframes";function Y(e,t){for(var n="",o=m(e),s=0;s<o;s++)n+=t(e[s],s,e,t)||"";return n}function q(e,t,n,o){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case H:return e.return=e.return||e.value;case L:return"";case W:return e.return=e.value+"{"+Y(e.children,o)+"}";case G:e.value=e.props.join(",")}return g(n=Y(e.children,o))?e.return=e.value+"{"+n+"}":""}function U(e){return T(X("",null,null,null,[""],e=N(e),0,[0],e))}function X(e,t,n,o,s,i,a,r,p){for(var x=0,m=0,b=a,f=0,v=0,y=0,j=1,_=1,k=1,C=0,I="",V=s,N=i,T=o,P=I;_;)switch(y=C,C=O()){case 40:if(108!=y&&58==d(P,b-1)){-1!=u(P+=c(E(C),"&","&\f"),"&\f")&&(k=-1);break}case 34:case 39:case 91:P+=E(C);break;case 9:case 10:case 13:case 32:P+=A(y);break;case 92:P+=$(S()-1,7);continue;case 47:switch(B()){case 42:case 47:h(Q(D(O(),S()),t,n),p);break;default:P+="/"}break;case 123*j:r[x++]=g(P)*k;case 125*j:case 59:case 0:switch(C){case 0:case 125:_=0;case 59+m:-1==k&&(P=c(P,/\f/g,"")),v>0&&g(P)-b&&h(v>32?J(P+";",o,n,b-1):J(c(P," ","")+";",o,n,b-2),p);break;case 59:P+=";";default:if(h(T=Z(P,t,n,x,m,s,r,I,V=[],N=[],b),i),123===C)if(0===m)X(P,t,T,T,V,i,b,r,N);else switch(99===f&&110===d(P,3)?100:f){case 100:case 108:case 109:case 115:X(e,T,T,o&&h(Z(e,T,T,0,0,s,r,I,s,V=[],b),N),s,N,b,r,o?V:N);break;default:X(P,T,T,T,[""],N,0,r,N)}}x=m=v=0,j=k=1,I=P="",b=a;break;case 58:b=1+g(P),v=y;default:if(j<1)if(123==C)--j;else if(125==C&&0==j++&&125==w())continue;switch(P+=l(C),C*j){case 38:k=m>0?1:(P+="\f",-1);break;case 44:r[x++]=(g(P)-1)*k,k=1;break;case 64:45===B()&&(P+=E(O())),f=B(),m=b=g(I=P+=F(S())),C++;break;case 45:45===y&&2==g(P)&&(j=0)}}return i}function Z(e,t,n,o,s,i,l,r,u,d,g){for(var h=s-1,b=0===s?i:[""],f=m(b),v=0,y=0,j=0;v<o;++v)for(var _=0,C=x(e,h+1,h=a(y=l[v])),w=e;_<f;++_)(w=p(y>0?b[_]+" "+C:c(C,/&\f/g,b[_])))&&(u[j++]=w);return k(e,t,n,0===s?G:r,u,d,g)}function Q(e,t,n){return k(e,t,n,L,l(j),x(e,2,-2),0)}function J(e,t,n,o){return k(e,t,n,H,x(e,0,o),x(e,o+1,-1),o)}var K=function(e,t,n){for(var o=0,s=0;o=s,s=B(),38===o&&12===s&&(t[n]=1),!V(s);)O();return I(e,y)},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,o=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!o){ee.set(e,!0);for(var s=[],i=function(e,t){return T(function(e,t){var n=-1,o=44;do{switch(V(o)){case 0:38===o&&12===B()&&(t[n]=1),e[n]+=K(y-1,t,n);break;case 2:e[n]+=E(o);break;case 4:if(44===o){e[++n]=58===B()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=l(o)}}while(o=O());return e}(N(e),t))}(t,s),a=n.props,r=0,p=0;r<i.length;r++)for(var c=0;c<a.length;c++,p++)e.props[p]=s[r]?i[r].replace(/&\f/g,a[c]):a[c]+" "+i[r]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function oe(e,t){switch(function(e,t){return 45^d(e,0)?(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3):0}(e,t)){case 5103:return M+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return M+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return M+e+z+e+R+e+e;case 6828:case 4268:return M+e+R+e+e;case 6165:return M+e+R+"flex-"+e+e;case 5187:return M+e+c(e,/(\w+).+(:[^]+)/,M+"box-$1$2"+R+"flex-$1$2")+e;case 5443:return M+e+R+"flex-item-"+c(e,/flex-|-self/,"")+e;case 4675:return M+e+R+"flex-line-pack"+c(e,/align-content|flex-|-self/,"")+e;case 5548:return M+e+R+c(e,"shrink","negative")+e;case 5292:return M+e+R+c(e,"basis","preferred-size")+e;case 6060:return M+"box-"+c(e,"-grow","")+M+e+R+c(e,"grow","positive")+e;case 4554:return M+c(e,/([^-])(transform)/g,"$1"+M+"$2")+e;case 6187:return c(c(c(e,/(zoom-|grab)/,M+"$1"),/(image-set)/,M+"$1"),e,"")+e;case 5495:case 3959:return c(e,/(image-set\([^]*)/,M+"$1$`$1");case 4968:return c(c(e,/(.+:)(flex-)?(.*)/,M+"box-pack:$3"+R+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+M+e+e;case 4095:case 3583:case 4068:case 2532:return c(e,/(.+)-inline(.+)/,M+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(g(e)-1-t>6)switch(d(e,t+1)){case 109:if(45!==d(e,t+4))break;case 102:return c(e,/(.+:)(.+)-([^]+)/,"$1"+M+"$2-$3$1"+z+(108==d(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?oe(c(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==d(e,t+1))break;case 6444:switch(d(e,g(e)-3-(~u(e,"!important")&&10))){case 107:return c(e,":",":"+M)+e;case 101:return c(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+M+(45===d(e,14)?"inline-":"")+"box$3$1"+M+"$2$3$1"+R+"$2box$3")+e}break;case 5936:switch(d(e,t+11)){case 114:return M+e+R+c(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return M+e+R+c(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return M+e+R+c(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return M+e+R+e+e}return e}var se=[function(e,t,n,o){if(e.length>-1&&!e.return)switch(e.type){case H:e.return=oe(e.value,e.length);break;case W:return Y([C(e,{value:c(e.value,"@","@"+M)})],o);case G:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return Y([C(e,{props:[c(t,/:(read-\w+)/,":-moz-$1")]})],o);case"::placeholder":return Y([C(e,{props:[c(t,/:(plac\w+)/,":"+M+"input-$1")]}),C(e,{props:[c(t,/:(plac\w+)/,":-moz-$1")]}),C(e,{props:[c(t,/:(plac\w+)/,R+"input-$1")]})],o)}return""}))}}],ie={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ae(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var le=/[A-Z]|^ms/g,re=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pe=function(e){return 45===e.charCodeAt(1)},ce=function(e){return null!=e&&"boolean"!=typeof e},ue=ae((function(e){return pe(e)?e:e.replace(le,"-$&").toLowerCase()})),de=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(re,(function(e,t,n){return ge={name:t,styles:n,next:ge},t}))}return 1===ie[e]||pe(e)||"number"!=typeof t||0===t?t:t+"px"};function xe(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ge={name:n.name,styles:n.styles,next:ge},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)ge={name:o.name,styles:o.styles,next:ge},o=o.next;return n.styles+";"}return function(e,t,n){var o="";if(Array.isArray(n))for(var s=0;s<n.length;s++)o+=xe(e,t,n[s])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?o+=i+"{"+t[a]+"}":ce(a)&&(o+=ue(i)+":"+de(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=xe(e,t,a);switch(i){case"animation":case"animationName":o+=ue(i)+":"+l+";";break;default:o+=i+"{"+l+"}"}}else for(var r=0;r<a.length;r++)ce(a[r])&&(o+=ue(i)+":"+de(i,a[r])+";")}return o}(e,t,n);case"function":if(void 0!==e){var s=ge,i=n(e);return ge=s,xe(e,t,i)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var ge,me=/label:\s*([^\s;\n{]+)\s*(;|$)/g,he=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,s="";ge=void 0;var i=e[0];null==i||void 0===i.raw?(o=!1,s+=xe(n,t,i)):s+=i[0];for(var a=1;a<e.length;a++)s+=xe(n,t,e[a]),o&&(s+=i[a]);me.lastIndex=0;for(var l,r="";null!==(l=me.exec(s));)r+="-"+l[1];var p=function(e){for(var t,n=0,o=0,s=e.length;s>=4;++o,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(s){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(s)+r;return{name:p,styles:s,next:ge}};function be(e,t,n){var o="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):o+=n+" "})),o}function fe(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function ve(e,t,n){var o=[],s=be(e,o,n);return o.length<2?n:s+t(o)}var ye=function e(t){for(var n="",o=0;o<t.length;o++){var s=t[o];if(null!=s){var i=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))i=e(s);else for(var a in i="",s)s[a]&&a&&(i&&(i+=" "),i+=a);break;default:i=s}i&&(n&&(n+=" "),n+=i)}}return n};const{cx:je,injectGlobal:_e,keyframes:ke,css:Ce}=function(e){var t=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,s,a=e.stylisPlugins||se,l={},r=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)l[t[n]]=!0;r.push(e)}));var p,c,u,d,x=[q,(d=function(e){p.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],g=(c=[te,ne].concat(a,x),u=m(c),function(e,t,n,o){for(var s="",i=0;i<u;i++)s+=c[i](e,t,n,o)||"";return s});s=function(e,t,n,o){p=n,Y(U(e?e+"{"+t.styles+"}":t.styles),g),o&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new i({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:s};return h.sheet.hydrate(r),h}({key:"nelio-popups"});t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var s=he(n,t.registered,void 0);return function(e,t,n){!function(e,t,n){var o=e.key+"-"+t.name;void 0===e.registered[o]&&(e.registered[o]=t.styles)}(e,t);var o=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s=t;do{e.insert(t===s?"."+o:"",s,e.sheet,!0),s=s.next}while(void 0!==s)}}(t,s),t.key+"-"+s.name};return{css:n,cx:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return ve(t.registered,n,ye(o))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var s=he(n,t.registered);fe(t,s)},keyframes:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var s=he(n,t.registered),i="animation-"+s.name;return fe(t,{name:s.name,styles:"@keyframes "+i+"{"+s.styles+"}"}),i},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:be.bind(null,t.registered),merge:ve.bind(null,t.registered,n)}}(),we=["cookie","woocommerce"],Oe={top:{value:1,unit:"em"},bottom:{value:1,unit:"em"},left:{value:1,unit:"em"},right:{value:1,unit:"em"}},Be={advanced:{closeOnEscPressed:!0,closeOnOverlayClicked:!0,isBodyScrollLocked:!1,popupOpenedCookie:{isEnabled:!1}},animation:{type:"none"},conditions:[],display:{disablesOtherPopupOpenings:!0,isDisabledIfOpenedPopups:!1,isDisabledOnMobile:!1,isLocationCheckInServer:!0,triggerLimit:{type:"unlimited",delay:{value:0,unit:"days"}},zIndex:99999},location:"center",overlay:{isEnabled:!0,color:"#00000080"},size:{type:"auto",value:"normal"},spacing:{margin:Oe,padding:Oe},sound:{type:"none"},target:{type:"full-site-target"},triggers:[{type:"page-view"}],wrapper:{border:{isEnabled:!1},closeButton:{isEnabled:!1},shadow:{isEnabled:!0,blur:{value:15,unit:"px"},color:"#00000088",offsetX:{value:0,unit:"px"},offsetY:{value:0,unit:"px"}}},analytics_view_count:0,analytics_last_view:"",analytics_conversion_count:0,analytics_last_conversion:"",analytics_conversion_rate:0,analytics_settings:{isTrackingEnabled:!0,trackClicksOnLinks:!0,trackClicksOnButtons:!0,trackFormSubmissions:!0}},Se=window.lodash;function Ie(e){return Object.keys(e).map((t=>({value:t,label:e[t],disabled:!1})))}function Ve(e){return!!e.type}function Ne(e,t,n){var o;return{[e]:n&&null!==(o=n[e])&&void 0!==o?o:t[e]}}const Te=e=>!!e.NelioPopupsEditorSettings,Ee=window.wp.i18n,Ae={none:(0,Ee._x)("None","text (animation type)","nelio-popups"),fade:(0,Ee._x)("Fade","text (animation type)","nelio-popups"),slide:(0,Ee._x)("Slide","text (animation type)","nelio-popups"),"slide-and-fade":(0,Ee._x)("Slide and fade","text (animation type)","nelio-popups"),zoom:(0,Ee._x)("Zoom","text (animation type)","nelio-popups")},$e={back:(0,Ee._x)("Back","text (animation type)","nelio-popups"),bounce:(0,Ee._x)("Bounce","text (animation type)","nelio-popups"),flip:(0,Ee._x)("Flip horizontally","text (animation type)","nelio-popups"),"flip-y":(0,Ee._x)("Flip vertically","text (animation type)","nelio-popups"),roll:(0,Ee._x)("Roll","text (animation type)","nelio-popups"),rotate:(0,Ee._x)("Rotate","text (animation type)","nelio-popups")},Pe={cookie:(0,Ee._x)("Cookie","text","nelio-popups"),referrer:(0,Ee._x)("Referrer","text","nelio-popups")},De={content:(0,Ee._x)("Content is","text","nelio-popups"),"excluded-content":(0,Ee._x)("Content is not","text","nelio-popups")},Fe={"adblock-detection":(0,Ee._x)("Adblock is detected","text","nelio-popups"),browser:(0,Ee._x)("Browser","text","nelio-popups"),custom:(0,Ee._x)("Custom JS function","text","nelio-popups"),date:(0,Ee._x)("Date","text","nelio-popups"),"day-of-week":(0,Ee._x)("Day of Week","text","nelio-popups"),device:(0,Ee._x)("Device","text","nelio-popups"),geolocation:(0,Ee._x)("Country","text","nelio-popups"),language:(0,Ee._x)("Language","text","nelio-popups"),os:(0,Ee._x)("Operating System","text","nelio-popups"),"query-arg":(0,Ee._x)("Query Parameter","text","nelio-popups"),time:(0,Ee._x)("Time Period","text","nelio-popups"),visitor:(0,Ee._x)("Visitor","text","nelio-popups"),"window-width":(0,Ee._x)("Window Width","text","nelio-popups"),woocommerce:(0,Ee._x)("WooCommerce","text","nelio-popups")},Re={taxonomy:(0,Ee._x)("Taxonomy is","text","nelio-popups"),"excluded-taxonomy":(0,Ee._x)("Taxonomy is not","text","nelio-popups"),url:(0,Ee._x)("URL","text","nelio-popups")},ze={mouse:(0,Ee._x)("Mouse action","text","nelio-popups"),"page-view":(0,Ee._x)("Page view","text","nelio-popups"),scroll:(0,Ee._x)("Scroll offset","text","nelio-popups"),time:(0,Ee._x)("Time delay","text","nelio-popups")},Me={"exit-intent":(0,Ee._x)("Exit intent","text","nelio-popups"),"html-element":(0,Ee._x)("HTML Element","text","nelio-popups"),inactivity:(0,Ee._x)("Inactivity","text","nelio-popups"),manual:(0,Ee._x)("Manual","text","nelio-popups"),"time-on-site":(0,Ee._x)("Time on site","text","nelio-popups"),woocommerce:(0,Ee._x)("WooCommerce","text","nelio-popups")},Le=()=>Ie(Pe),Ge=()=>Ie(De),He=()=>Bt("condition",Fe),We=()=>Bt("condition",Re);function Ye(e,t){return(0,o.applyFilters)(`nelio_popups.parse_${e}`,void 0,t)}function qe(e){const t=Be.advanced;return e?Object.assign(Object.assign({isBodyScrollLocked:t.isBodyScrollLocked,closeOnEscPressed:t.closeOnEscPressed,closeOnOverlayClicked:t.closeOnOverlayClicked},e),{popupOpenedCookie:Ue(t.popupOpenedCookie,e.popupOpenedCookie)}):t}function Ue(e,t){var n,o,s;if(!t)return e;if(!t.isEnabled)return{isEnabled:!1};if(t.isSession)return{isEnabled:!0,name:null!==(n=t.name)&&void 0!==n?n:"",isSession:!0};const i={unit:"days",value:2},a=!1===t.isSession&&null!==(o=t.expiration)&&void 0!==o?o:i;return{isEnabled:!0,name:null!==(s=t.name)&&void 0!==s?s:"",isSession:!1,expiration:Object.assign(Object.assign({},Ne("unit",i,a)),Ne("value",i,a))}}function Xe(e){var t,n;return e&&Ve(e)?"none"===e.type?{type:"none"}:{type:e.type,delay:null!==(t=e.delay)&&void 0!==t?t:"none",speed:null!==(n=e.speed)&&void 0!==n?n:"default"}:Be.animation}function Ze(e){var t,n;return{matchType:null!==(t=e.matchType)&&void 0!==t?t:"is",matchValue:null!==(n=e.matchValue)&&void 0!==n?n:""}}function Qe(e){return(null!=e?e:[]).map(Je)}function Je(e){return e?e.filter(et).map(Ke):[]}const Ke=e=>{var t;return null!==(t=function(e){switch(e.type){case"cookie":return Object.assign({type:e.type},function(e){var t,n;return e.exists?Object.assign({exists:!0,key:null!==(n=e.key)&&void 0!==n?n:""},e.value&&{value:Ze(e.value)}):{exists:!1,key:null!==(t=e.key)&&void 0!==t?t:""}}(e));case"referrer":return Object.assign({type:e.type},Ze(e))}}(e))&&void 0!==t?t:function(e){var t;return null!==(t=Ye(`${e.type}_condition`,e))&&void 0!==t?t:Object.assign(Object.assign({},e),{type:e.type})}(e)},et=e=>!!(null==e?void 0:e.type);function tt(e){const t=Be.display;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ne("disablesOtherPopupOpenings",t,e)),Ne("isDisabledIfOpenedPopups",t,e)),Ne("isDisabledOnMobile",t,e)),Ne("isLocationCheckInServer",t,e)),Ne("zIndex",t,e)),{triggerLimit:(n=null==e?void 0:e.triggerLimit,null!==(o=Ye("trigger_limit",n))&&void 0!==o?o:Be.display.triggerLimit)});var n,o}function nt(e){var t;return e?e.isEnabled?{isEnabled:!0,color:null!==(t=e.color)&&void 0!==t?t:"#000000cc"}:{isEnabled:!1}:Be.overlay}function ot(e){return null!=e?e:Be.location}function st(e){var t;if(!e||!Ve(e))return Be.size;if("custom"===e.type){const t={unit:"%",value:40};return{type:e.type,width:Object.assign(Object.assign({},Ne("unit",t,e.width)),Ne("value",t,e.width)),height:e.height&&"auto-adjust"!==e.height.type?{type:"custom-height",value:Object.assign(Object.assign({},Ne("unit",t,e.height.value)),Ne("value",t,e.height.value)),isContentScrollable:e.height.isContentScrollable||!1}:{type:"auto-adjust"}}}return"fullscreen"===e.type?{type:e.type}:{type:"auto",value:null!==(t=e.value)&&void 0!==t?t:"normal"}}function it(e){var t;return e&&Ve(e)?"custom"===e.type?{type:"custom",customUrl:null!==(t=e.customUrl)&&void 0!==t?t:""}:{type:e.type}:Be.sound}function at(e){var t,n;const o=Be.spacing;return e?{margin:lt(null!==(t=e.margin)&&void 0!==t?t:{},o.margin),padding:lt(null!==(n=e.padding)&&void 0!==n?n:{},o.padding)}:o}function lt(e,t){return{top:Object.assign(Object.assign({},t.top),e.top),bottom:Object.assign(Object.assign({},t.bottom),e.bottom),left:Object.assign(Object.assign({},t.left),e.left),right:Object.assign(Object.assign({},t.right),e.right)}}function rt(e){var t;if(!e||!Ve(e))return Be.target;switch(e.type){case"full-site-target":return{type:"full-site-target"};case"manual-target":return{type:"manual-target"};case"condition-based-target":return{type:"condition-based-target",groups:(null!==(t=e.groups)&&void 0!==t?t:[]).map(pt)}}}function pt(e){return e?e.filter(ut).map(ct):[]}const ct=e=>{var t;return null!==(t=function(e){var t,n;switch(e.type){case"content":case"excluded-content":return"post-type"===e.value?{type:e.type,value:"post-type",postType:null!==(t=e.postType)&&void 0!==t?t:"page",postValue:dt(e.postValue)}:{type:e.type,value:null!==(n=e.value)&&void 0!==n?n:"home-page"}}}(e))&&void 0!==t?t:function(e){var t;return null!==(t=Ye(`${e.type}_condition`,e))&&void 0!==t?t:Object.assign(Object.assign({},e),{type:e.type})}(e)},ut=e=>!!(null==e?void 0:e.type);function dt(e){var t,n,o;if(!e||!Ve(e))return{type:"all-posts"};switch(e.type){case"all-posts":return{type:e.type};case"selected-posts":case"children":return{type:e.type,postIds:(null!==(t=e.postIds)&&void 0!==t?t:[]).filter((e=>!!e))};case"template":return Object.assign({type:e.type},e.template&&{template:e.template});case"selected-terms":return{type:e.type,taxonomyName:null!==(n=e.taxonomyName)&&void 0!==n?n:"",termIds:(null!==(o=e.termIds)&&void 0!==o?o:[]).filter((e=>!!e))}}}const xt=e=>{var t;return null!==(t=function(e){var t,n,o;switch(e.type){case"mouse":return{type:e.type,mode:null!==(t=e.mode)&&void 0!==t?t:"click",elementSelector:null!==(n=e.elementSelector)&&void 0!==n?n:""};case"page-view":return{type:e.type};case"scroll":return{type:e.type,value:Object.assign({unit:"%",value:50},e.value)};case"time":return{type:e.type,seconds:null!==(o=e.seconds)&&void 0!==o?o:60}}}(e))&&void 0!==t?t:function(e){var t;return null!==(t=Ye(`${e.type}_trigger`,e))&&void 0!==t?t:Object.assign(Object.assign({},e),{type:e.type})}(e)},gt=e=>!!(null==e?void 0:e.type);function mt(e){return{border:ht(null==e?void 0:e.border),closeButton:(t=null==e?void 0:e.closeButton,t?t.isEnabled?Object.assign({isEnabled:!0,icon:"",label:"",size:{value:1,unit:"em"},delayInMillis:0,position:"top-right",color:"#000000ff",backgroundColor:"#00000000"},t):{isEnabled:!1}:Be.wrapper.closeButton),shadow:bt(null==e?void 0:e.shadow)};var t}function ht(e){var t;if(!e)return Be.wrapper.border;if(!e.isEnabled)return{isEnabled:!1};const n={unit:"px",value:0};return{isEnabled:!0,radius:Object.assign(Object.assign({},n),e.radius),color:null!==(t=e.color)&&void 0!==t?t:"#000000ff",width:Object.assign(Object.assign({},n),e.width)}}function bt(e){var t;if(!e)return Be.wrapper.shadow;if(!e.isEnabled)return{isEnabled:!1};const n={unit:"px",value:0};return{isEnabled:!0,blur:Object.assign(Object.assign({},n),e.blur),color:null!==(t=e.color)&&void 0!==t?t:"#00000066",offsetX:Object.assign(Object.assign({},n),e.offsetX),offsetY:Object.assign(Object.assign({},n),e.offsetY)}}function ft(e){return null!=e?e:Be.analytics_view_count}function vt(e){return null!=e?e:Be.analytics_last_view}function yt(e){return null!=e?e:Be.analytics_conversion_count}function jt(e){return null!=e?e:Be.analytics_last_conversion}function _t(e){return null!=e?e:Be.analytics_conversion_rate}function kt(e){return e?{isTrackingEnabled:void 0===e.isTrackingEnabled?Be.analytics_settings.isTrackingEnabled:e.isTrackingEnabled,trackClicksOnButtons:void 0===e.trackClicksOnButtons?Be.analytics_settings.trackClicksOnButtons:e.trackClicksOnButtons,trackClicksOnLinks:void 0===e.trackClicksOnLinks?Be.analytics_settings.trackClicksOnLinks:e.trackClicksOnLinks,trackFormSubmissions:void 0===e.trackFormSubmissions?Be.analytics_settings.trackFormSubmissions:e.trackFormSubmissions}:Be.analytics_settings}const Ct=()=>!!(0,o.applyFilters)("nelio_popups.is_premium",!1),wt=e=>(0,Se.trim)(`${e} ${St()}`),Ot=e=>(0,Se.trim)(`${e} ${St()}`);function Bt(e,t){return Ie(t).map((({value:t,label:n})=>({value:t,label:Ct()?Vt(e,t,n):Ot(n),disabled:!Ct()||It(e,t)})))}const St=()=>Ct()?"":(0,Ee._x)("(premium)","text","nelio-popups"),It=(e,t)=>!!(0,o.applyFilters)(`nelio_popups.is_${t}_${e}_option_coming_soon`,!1),Vt=(e,t,n)=>It(e,t)?n+" "+(0,Ee._x)("(coming soon)","text","nelio-popups"):n;window.Node,window.XPathResult;const Nt=window.ReactJSXRuntime,Tt=window.wp.element,Et=window.wp.components,At=window.wp.editor,$t=window.wp.url,Pt=()=>{const e=(0,o.applyFilters)("nelio_popups.get_analytics_component",(()=>null));return(0,Nt.jsx)(At.PluginDocumentSettingPanel,{name:"nelio-popups-analytics-panel",className:"nelio-popups-analytics-panel",title:(0,Ee._x)("Analytics","text","nelio-popups"),children:Ct()?(0,Nt.jsx)(e,{}):(0,Nt.jsx)("p",{children:(0,Tt.createInterpolateElement)((0,Ee._x)("To unlock analytics, purchase <premium>the premium version</premium> of Nelio Popups.","user","nelio-popups-premium"),{premium:(0,Nt.jsx)(Et.ExternalLink,{href:(0,$t.addQueryArgs)((0,Ee._x)("https://neliosoftware.com/popups/","text","nelio-popups-premium"),{utm_source:"nelio-popups",utm_medium:"plugin",utm_campaign:"premium",utm_content:"plugin-analytics"})})})})})},Dt=window.wp.blocks,Ft=window.wp.blockEditor,Rt=Ft.store,zt=window.wp.notices,Mt=window.wp.compose,Lt=({pattern:e,onClick:t})=>{const{blocks:n,viewportWidth:o}=e,s=`block-editor-block-patterns-list__item-description-${(0,Mt.useInstanceId)(Lt)}`;return(0,Nt.jsx)("div",{className:"block-editor-block-patterns-list__list-item","aria-label":e.title,"aria-describedby":e.description?s:void 0,children:(0,Nt.jsxs)("div",{role:"option",className:"block-editor-block-patterns-list__item",onClick:()=>t(e,n),onKeyUp:o=>{"Enter"===o.key&&t(e,n)},tabIndex:-1,children:[(0,Nt.jsx)(Ft.BlockPreview,{blocks:(0,Se.map)(n,(e=>(0,Dt.cloneBlock)(e))),viewportWidth:o}),(0,Nt.jsx)("div",{className:"block-editor-block-patterns-list__item-title",children:e.title}),!!e.description&&(0,Nt.jsx)(Et.VisuallyHidden,{id:s,children:e.description})]})})},Gt=({blockPatterns:e,onClickPattern:t})=>(0,Nt.jsx)("div",{role:"listbox",className:"block-editor-block-patterns-list","aria-label":(0,Ee._x)("Popup Patterns","text","nelio-popups"),children:e.map((e=>(0,Nt.jsx)(Lt,{pattern:e,onClick:t},e.name)))}),Ht=[{name:"nelio-popups/call-to-action",title:(0,Ee._x)("Call to Action","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/group",isValid:!0,attributes:{tagName:"div",style:{color:{background:"#ffffff"}}},innerBlocks:[{name:"core/heading",isValid:!0,attributes:{content:(0,Ee._x)("Get Exclusive Offers","user","nelio-popups"),level:2,textAlign:"center"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,attributes:{align:"center",content:(0,Ee._x)("Get access to exclusive exhibits and sales.","user","nelio-popups"),dropCap:!1},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("Call to Action","text","nelio-popups"),className:"is-style-outline"},innerBlocks:[]}]}]}]},{name:"nelio-popups/new-collection",title:(0,Ee._x)("New Collection","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/media-text",isValid:!0,validationIssues:[],attributes:{align:"full",mediaAlt:"",mediaPosition:"right",mediaUrl:"https://images.unsplash.com/photo-1467043237213-65f2da53396f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1587&q=80",mediaType:"image",mediaWidth:50,isStackedOnMobile:!1,imageFill:!1},innerBlocks:[{name:"core/heading",isValid:!0,validationIssues:[],attributes:{textAlign:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("New Collection","text","nelio-popups")),level:3,fontSize:"large"},innerBlocks:[]},{name:"core/heading",isValid:!0,validationIssues:[],attributes:{textAlign:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("10% OFF","text","nelio-popups")),level:2},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Get a discount on all <br />items in your next order","user","nelio-popups"),dropCap:!1},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("Shop Now","command","nelio-popups"),width:50},innerBlocks:[]}]}]}]},{name:"nelio-popups/announcement",title:(0,Ee._x)("Announcement","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/group",isValid:!0,validationIssues:[],attributes:{tagName:"div",align:"full",style:{color:{background:"#030000"}}},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("PASTA IS NEVER ENOUGH","text","nelio-popups")),dropCap:!1,style:{typography:{fontSize:"40px"}},textColor:"background"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("NEW TASTING MENU","text","nelio-popups")),dropCap:!1,style:{typography:{fontSize:"30px"}},textColor:"background"},innerBlocks:[]},{name:"core/image",isValid:!0,validationIssues:[],attributes:{align:"center",url:"https://images.unsplash.com/photo-1623243020684-9f8bcefe6e94?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2670&q=80",alt:"",caption:"",width:510,height:341,sizeSlug:"full",linkDestination:"none",style:{border:{radius:"10px"}}},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("<strong>Never know which Pasta dish to get? Think no more!</strong><br><strong>Sola Pasta Bar</strong> just introduced a <em><strong>Pasta Tasting Menu</strong></em> which gives customers the chance to try <em><strong>5 different pastas</strong></em>.","text","nelio-popups"),dropCap:!1,textColor:"background"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("LEARN MORE","command","nelio-popups"),style:{color:{background:"#fffbfb",text:"#030000"}},width:100},innerBlocks:[]}]}]}]},{name:"nelio-popups/sale-notification",title:(0,Ee._x)("Sale Notification","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/group",isValid:!0,validationIssues:[],attributes:{tagName:"div",align:"full",style:{color:{background:"#1d868b"}}},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Women’s sunglasses<br><strong>25% off</strong>","text","nelio-popups"),dropCap:!1,textColor:"background",fontSize:"large"},innerBlocks:[]},{name:"core/separator",isValid:!0,validationIssues:[],attributes:{opacity:"alpha-channel",style:{color:{background:"#dbdbdb"}},className:"is-style-default"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Sale ends on<br><strong>09/08/2022</strong>","text","nelio-popups"),dropCap:!1,style:{typography:{fontSize:"20px"}},textColor:"background"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("SHOP NOW","command","nelio-popups"),backgroundColor:"foreground",textColor:"background",width:50,style:{border:{radius:"5px"}}},innerBlocks:[]}]}]}]},{name:"nelio-popups/exit-intent",title:(0,Ee._x)("Exit Intent","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/group",isValid:!0,validationIssues:[],attributes:{tagName:"div",align:"full",backgroundColor:"primary"},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("LEAVING SO SOON?","user","nelio-popups")),dropCap:!1,textColor:"background",fontSize:"x-large"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("GET 15% OFF FOR YOUR FIRST PURCHASE WITH THIS COUPON","user","nelio-popups"),dropCap:!1,textColor:"background"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("DISCOUNT15","text","nelio-popups"),textColor:"luminous-vivid-amber",width:75,className:"is-style-outline"},innerBlocks:[]}]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("CONTINUE SHOPPING","command","nelio-popups"),backgroundColor:"background",textColor:"primary",width:75},innerBlocks:[]}]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("No thanks, I’d rather pay the full price","text","nelio-popups"),dropCap:!1,textColor:"background",fontSize:"small"},innerBlocks:[]}]}]},{name:"nelio-popups/thanksgiving-day",title:(0,Ee._x)("Thanksgiving Day","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/group",isValid:!0,validationIssues:[],attributes:{tagName:"div",align:"full",style:{color:{background:"#b71140"}}},innerBlocks:[{name:"core/image",isValid:!0,validationIssues:[],attributes:{align:"center",url:"https://images.unsplash.com/photo-1538883689728-2c32af36a313?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2670&q=80",alt:"",caption:"",width:743,height:496,sizeSlug:"full",linkDestination:"none"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("-50% FOR ALL","text","nelio-popups")),dropCap:!1,textColor:"background",fontSize:"x-large"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Give presents to your family for Thanksgiving Day","user","nelio-popups"),dropCap:!1,textColor:"background"},innerBlocks:[]},{name:"core/separator",isValid:!0,validationIssues:[],attributes:{opacity:"alpha-channel",align:"wide",style:{color:{background:"#ffaeae"}},className:"is-style-default"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Your coupon code:","text","nelio-popups"),dropCap:!1,textColor:"background"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:"GET50",textColor:"background",width:75,style:{border:{radius:"40px"}},className:"is-style-outline"},innerBlocks:[]}]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("START SHOPPING","command","nelio-popups")),backgroundColor:"luminous-vivid-amber",textColor:"foreground",width:75,style:{border:{radius:"40px"},typography:{fontSize:"1.2rem"}}},innerBlocks:[]}]}]}]},{name:"nelio-popups/black-friday-coupon",title:(0,Ee._x)("Black Friday Coupon","text","nelio-poppups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/group",isValid:!0,validationIssues:[],attributes:{tagName:"div",align:"full",style:{color:{background:"#2c2b35"}}},innerBlocks:[{name:"core/image",isValid:!0,validationIssues:[],attributes:{url:"https://images.unsplash.com/photo-1607082349566-187342175e2f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2670&q=80",alt:"",caption:"",sizeSlug:"full",linkDestination:"none"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("-50% FOR ALL","text","nelio-popups")),style:{color:{text:"#fafafa"}},dropCap:!1,fontSize:"x-large"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Your coupon code:","text","nelio-popups"),dropCap:!1,style:{color:{text:"#fafafa"}}},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("GET 50","command","nelio-popups"),textColor:"tertiary",width:75,className:"is-style-outline"},innerBlocks:[]}]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("START SHOPPING","command","nelio-popups")),textColor:"tertiary",width:75,style:{color:{background:"#fd5753"}},className:"is-style-fill"},innerBlocks:[]}]}]}]},{name:"nelio-popups/three-days-only",title:(0,Ee._x)("3 Days Only","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/media-text",isValid:!0,validationIssues:[],attributes:{align:"full",mediaAlt:"",mediaPosition:"right",mediaUrl:"https://images.unsplash.com/photo-1527264935190-1401c51b5bbc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2670&q=80",mediaType:"image",mediaWidth:50,isStackedOnMobile:!0,imageFill:!1},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("3 DAYS ONLY","text","nelio-popups")),dropCap:!1,placeholder:(0,Ee._x)("Content…","text","nelio-popups"),fontSize:"x-large"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Get an exclusive discount 15%","user","nelio-popups"),dropCap:!1},innerBlocks:[]},{name:"core/spacer",isValid:!0,validationIssues:[],attributes:{height:"23px"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("Yes, I want the deal!","text","nelio-popups")),width:75,style:{color:{background:"#c32938",text:"#d7d3be"}}},innerBlocks:[]}]},{name:"core/spacer",isValid:!0,validationIssues:[],attributes:{height:"23px"},innerBlocks:[]}]}]},{name:"nelio-popups/covid-update",title:(0,Ee._x)("COVID-19 Update","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/cover",isValid:!0,validationIssues:[],attributes:{useFeaturedImage:!1,alt:"",hasParallax:!1,isRepeated:!1,dimRatio:100,overlayColor:"foreground",backgroundType:"image",isDark:!0,align:"full"},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("COVID-10 Update","text","nelio-popups")),dropCap:!1,fontSize:"x-large"},innerBlocks:[]},{name:"core/image",isValid:!0,validationIssues:[],attributes:{url:"https://images.unsplash.com/photo-1583324113626-70df0f4deaab?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2832&q=80",alt:"",caption:"",width:620,height:349,sizeSlug:"full",linkDestination:"none",style:{border:{radius:"5px"}},className:"is-style-default"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("We want to reassure our customers that we’re still in business during the COVID 19 pandemic. All of our team has been made aware of the importance of social distancing, regular hand-washing and social isolation.","text","nelio-popups"),dropCap:!1},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("If you have any enquiries, feel free to contact us","text","nelio-popups"),dropCap:!1},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("GET IN TOUCH","command","nelio-popups"),backgroundColor:"tertiary",textColor:"foreground",width:100,style:{border:{radius:"5px"}}},innerBlocks:[]}]}]}]},{name:"nelio-popups/new-year-sale",title:(0,Ee._x)("New Year Sale","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/cover",isValid:!0,attributes:{url:"https://images.unsplash.com/photo-1562379871-38893e81af71?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2037&q=80",useFeaturedImage:!1,alt:"",dimRatio:50,backgroundType:"image",isDark:!1,align:"full"},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("Last Sale of the Year!","text","nelio-popups")),dropCap:!1,fontSize:"large",textColor:"background"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("-40% FOR ALL","text","nelio-popups")),dropCap:!1,placeholder:(0,Ee._x)("Write title…","user","nelio-popups"),fontSize:"x-large",textColor:"background"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Grab your coupon here:","user","nelio-popups"),dropCap:!1,textColor:"background"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("GET40","text","nelio-popups")),width:75,className:"is-style-outline",textColor:"background"},innerBlocks:[]}]},{name:"core/spacer",isValid:!0,validationIssues:[],attributes:{height:"10px"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("I’M IN!","text","nelio-popups")),backgroundColor:"vivid-red",textColor:"background",width:75},innerBlocks:[]}]}]}]},{name:"nelio-popups/cyber-monday",title:(0,Ee._x)("Cyber Monday","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/cover",isValid:!0,validationIssues:[],attributes:{url:"https://images.unsplash.com/photo-1612521479339-283554c395fd?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2838&q=80",useFeaturedImage:!1,alt:"",hasParallax:!1,isRepeated:!1,dimRatio:50,backgroundType:"image",isDark:!1,align:"full"},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("CYBER MONDAY","text","nelio-popups")),dropCap:!1,textColor:"background",fontSize:"large"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("A Special Offer for you","text","nelio-popups")),dropCap:!1,placeholder:(0,Ee._x)("Write title…","user","nelio-popups"),textColor:"background",fontSize:"large"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("Up to 30% of on all the items in online shop with coupon:","text","nelio-popups")),dropCap:!1,textColor:"background"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("GET 50","command","nelio-popups")),textColor:"background",width:75,className:"is-style-outline"},innerBlocks:[]}]},{name:"core/spacer",isValid:!0,validationIssues:[],attributes:{height:"10px"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("I’M IN!","text","nelio-popups")),backgroundColor:"background",textColor:"foreground",width:75},innerBlocks:[]}]}]}]},{name:"nelio-popups/valentine-day",title:(0,Ee._x)("Valentine’s Day","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/cover",isValid:!0,validationIssues:[],attributes:{url:"https://images.unsplash.com/photo-1517607648415-b431854daa86?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2834&q=80",useFeaturedImage:!1,alt:"",hasParallax:!1,isRepeated:!1,dimRatio:0,backgroundType:"image",isDark:!1,align:"full"},innerBlocks:[{name:"core/columns",isValid:!0,validationIssues:[],attributes:{isStackedOnMobile:!0},innerBlocks:[{name:"core/column",isValid:!0,validationIssues:[],attributes:{},innerBlocks:[{name:"core/spacer",isValid:!0,validationIssues:[],attributes:{height:"79px"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%1$s</strong><br><strong>%2$s</strong>",(0,Ee._x)("Valentine’s Day Sale!","text","nelio-popups"),(0,Ee._x)("-50% FOR ALL","text","nelio-popups")),dropCap:!1,textColor:"vivid-red",fontSize:"x-large"},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("Your coupon code:","text","nelio-popups"),dropCap:!1,textColor:"vivid-red"},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee._x)("GET50","command","nelio-popups"),textColor:"vivid-red",width:75,className:"is-style-outline"},innerBlocks:[]},{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("START SHOPPING","text","nelio-popups")),backgroundColor:"vivid-red",width:75,style:{color:{text:"#e0e2e4"}},className:"is-style-outline"},innerBlocks:[]}]}]},{name:"core/column",isValid:!0,validationIssues:[],attributes:{},innerBlocks:[]}]}]}]},{name:"nelio-popups/special-for-you",title:(0,Ee._x)("Special for you","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/cover",isValid:!0,validationIssues:[],attributes:{url:"https://images.unsplash.com/photo-1608539660846-1b4990ac8b3c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2731&q=80",useFeaturedImage:!1,alt:"",hasParallax:!1,isRepeated:!1,dimRatio:0,backgroundType:"image",isDark:!1,align:"full"},innerBlocks:[{name:"core/columns",isValid:!0,validationIssues:[],attributes:{isStackedOnMobile:!0},innerBlocks:[{name:"core/column",isValid:!0,validationIssues:[],attributes:{width:"60%"},innerBlocks:[]},{name:"core/column",isValid:!0,validationIssues:[],attributes:{width:"40%"},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("Hey, we’ve got something special for you","text","nelio-popups")),dropCap:!1,style:{typography:{fontSize:"23px"}}},innerBlocks:[]},{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee._x)("We started our winter sale.<br>You can get up to 15% discount.<br>Don’t miss the chance.","text","nelio-popups"),dropCap:!1},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("Yes, give me 15% off","text","nelio-popups")),backgroundColor:"foreground",width:100,style:{border:{radius:"30px"}}},innerBlocks:[]}]}]}]}]}]},{name:"nelio-popups/black-friday",title:(0,Ee._x)("Black Friday","text","nelio-popups"),viewportWidth:900,categories:["nelio-popups"],description:"",blocks:[{name:"core/group",isValid:!0,validationIssues:[],attributes:{tagName:"div",align:"full",style:{color:{background:"#010000"}}},innerBlocks:[{name:"core/paragraph",isValid:!0,validationIssues:[],attributes:{align:"center",content:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("Black Friday Sale!","text","nelio-popups")),dropCap:!1,placeholder:(0,Ee._x)("Write title…","user","nelio-popups"),textColor:"background",fontSize:"large"},innerBlocks:[]},{name:"core/heading",isValid:!0,validationIssues:[],attributes:{textAlign:"center",content:(0,Ee._x)("<strong>GET 30% <br>DISCOUNT</strong>","user","nelio-popups"),level:2,style:{typography:{textTransform:"uppercase",fontSize:"60px"},color:{text:"#ffbc06"}}},innerBlocks:[]},{name:"core/buttons",isValid:!0,validationIssues:[],attributes:{layout:{type:"flex",justifyContent:"center"}},innerBlocks:[{name:"core/button",isValid:!0,validationIssues:[],attributes:{text:(0,Ee.sprintf)("<strong>%s</strong>",(0,Ee._x)("GET DISCOUNT","command","nelio-popups")),style:{color:{background:"#febc07"}},textColor:"foreground",width:100},innerBlocks:[]}]}]}]}],Wt=()=>{const{createSuccessNotice:e}=(0,t.useDispatch)(zt.store),{replaceBlocks:s}=(0,t.useDispatch)(Rt),i=n((e=>(0,Se.map)(e(Rt).getBlocks(),(e=>e.clientId))));return(0,Nt.jsx)(At.PluginDocumentSettingPanel,{name:"nelio-popups-patterns-panel",className:"nelio-popups-patterns-panel",title:(0,Ee._x)("Patterns","text","nelio-popups"),children:(0,Nt.jsx)(Gt,{blockPatterns:(0,o.applyFilters)("nelio_popups.popup_patterns",Ht),onClickPattern:(t,n)=>{s(i,(0,Se.map)(n,(e=>(0,Dt.cloneBlock)(e)))),e((0,Ee.sprintf)(/* translators: %s: block pattern title. */ /* translators: %s: block pattern title. */
(0,Ee._x)('Popup pattern "%s" inserted.',"text","nelio-popups"),t.title),{type:"snackbar"})}})})},Yt=window.wp.coreData;function qt(){const e=Ut();return(0,Se.filter)(e,(e=>e.viewable&&"nelio_popup"!==e.slug))}const Ut=()=>n((e=>e(Yt.store).getPostTypes({per_page:-1})))||[],Xt=()=>(0,Se.filter)(n((e=>e(Yt.store).getTaxonomies({per_page:-1}))),(e=>e.visibility.public)),Zt=e=>!!e&&"object"==typeof e&&"id"in e&&!!e.id&&"slug"in e&&!!e.slug&&"type"in e&&!!e.type&&"title"in e&&!!e.title&&"object"==typeof e.title&&"raw"in e.title&&!!e.title.raw,Qt=e=>!!e&&"object"==typeof e&&"id"in e&&!!e.id&&"slug"in e&&!!e.slug&&"name"in e&&!!e.name;let Jt={};function Kt(e){const[o,s]=function(e,o){const s=n((t=>t(At.store).getEditedPostAttribute(e)))||void 0,{editPost:i}=(0,t.useDispatch)(At.store);return[s,t=>i({[e]:t},{undoIgnore:!0})]}(`nelio_popups_${e}`),i=t=>{s(t),Jt[e]=t};if(!(e in Jt)){const t=function(e){return e?{advanced:qe(e.advanced),animation:Xe(e.animation),conditions:Qe(e.conditions),display:tt(e.display),location:ot(e.location),overlay:nt(e.overlay),size:st(e.size),sound:it(e.sound),spacing:at(e.spacing),target:rt(e.target),triggers:(t=e.triggers,(t=null!=t?t:Be.triggers).filter(gt).map(xt)),wrapper:mt(e.wrapper),analytics_view_count:ft(e.analytics_view_count),analytics_last_view:vt(e.analytics_last_view),analytics_conversion_count:yt(e.analytics_conversion_count),analytics_last_conversion:jt(e.analytics_last_conversion),analytics_conversion_rate:_t(e.analytics_conversion_rate),analytics_settings:kt(e.analytics_settings)}:Be;var t}({[e]:o})[e];return Jt=Object.assign(Object.assign({},Jt),{[e]:t}),[t,i]}return[Jt[e],i]}function en(e){const[t,n]=Kt("advanced");return[t[e],o=>n(Object.assign(Object.assign({},t),{[e]:o}))]}function tn(e){const[t,n]=Kt("display");return[t[e],o=>n(Object.assign(Object.assign({},t),{[e]:o}))]}function nn(e){const[t,n]=Kt("wrapper");return[t[e],o=>n(Object.assign(Object.assign({},t),{[e]:o}))]}const on=({colorValue:e})=>(0,Nt.jsx)("span",{className:sn,style:{background:null!=e?e:"transparent"}}),sn=Ce({border:"1px solid #dadada",display:"inline-block",height:16,marginLeft:"0.8rem",position:"relative",width:25,"&::before":{backgroundImage:"linear-gradient(45deg, #ddd 25%, transparent 0),linear-gradient(-45deg, #ddd 25%, transparent 0),linear-gradient(45deg, transparent 75%, #ddd 0),linear-gradient(-45deg, transparent 75%, #ddd 0)",backgroundSize:"10px 10px",backgroundPosition:"0 0,0 5px,5px -5px,-5px 0",content:'""',display:"block",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}}),an=({label:e,color:t,defaultValue:n="#000000",onChange:o})=>{const[s,i]=(0,Tt.useState)(t||n),a=e=>{i(e),o(e)};return(0,Nt.jsx)(Et.Dropdown,{renderToggle:({isOpen:t,onToggle:n})=>(0,Nt.jsx)(Et.Button,{variant:"link",onClick:n,"aria-expanded":t,children:e}),renderContent:()=>(0,Nt.jsx)(Et.ColorPicker,{color:s,onChange:a,enableAlpha:!0})})},ln=e=>{const{label:t,setLabel:n,color:o,onChange:s}=e,i=(0,Mt.useInstanceId)(ln);return t?(0,Nt.jsx)(Et.BaseControl,{id:`nelio-popups-color-control-${i}`,label:(0,Nt.jsx)(rn,{label:t,color:o}),children:(0,Nt.jsx)("div",{children:(0,Nt.jsx)(an,{label:n||(0,Ee._x)("Select Color","command","nelio-popups"),color:o,onChange:s})})}):(0,Nt.jsxs)("div",{className:pn,children:[(0,Nt.jsx)(an,{label:n||(0,Ee._x)("Select Color","command","nelio-popups"),color:o,onChange:s}),o&&(0,Nt.jsx)(on,{colorValue:o})]})},rn=({label:e,color:t})=>t?(0,Nt.jsxs)("div",{className:pn,children:[(0,Nt.jsx)("span",{children:e}),(0,Nt.jsx)(on,{colorValue:t})]}):(0,Nt.jsx)("span",{children:e}),pn=Ce({display:"flex",flexDirection:"row",justifyContent:"flex-end"});function cn({className:e,label:t,title:n,help:o,min:s,units:i,value:{value:a,unit:l},onBlur:r=Se.noop,onFocus:p=Se.noop,onChange:c}){const u=(0,Mt.useInstanceId)(cn),d=Object.keys(i).map((e=>({value:e,label:i[e].dropdownLabel||i[e].label})));return(0,Nt.jsx)(Et.BaseControl,{id:`css-unit-value-control-${u}`,label:t,help:o,children:(0,Nt.jsxs)("div",{className:je(dn,e),children:[(0,Nt.jsx)(Et.TextControl,{title:n,value:a,onBlur:r,onFocus:p,onChange:e=>c({value:un(e,s),unit:l})}),(0,Nt.jsxs)("div",{className:je(xn,"nelio-popups-unit"),children:[(0,Nt.jsx)("span",{children:i[l].label}),(0,Nt.jsx)(Et.SelectControl,{value:l,options:d,onChange:e=>c({value:a,unit:e}),onBlur:r,onFocus:p})]})]})})}function un(e,t){var n;const o=parseInt(e),s=null!==(n=isNaN(o)?t:o)&&void 0!==n?n:0;return void 0!==t?Math.max(s,t):s}const dn=Ce({display:"flex",flexDirection:"row","& > :first-child":{flexGrow:1},'& input[type="text"]':{borderTopRightRadius:0,borderBottomRightRadius:0},"& .components-input-control__backdrop":{borderTopLeftRadius:"0 !important",borderBottomLeftRadius:"0 !important"},"& > :last-child":{flexGrow:1}}),xn=Ce({position:"relative","& > :first-child":{color:"#777",fontSize:"max(10px, 0.8em)",left:"50%",pointerEvents:"none",position:"absolute",textTransform:"uppercase",top:6,transform:"translate(-50%, 0px)",userSelect:"none",zIndex:3},"& select":{opacity:0},"& svg":{opacity:0}}),gn={px:{label:"px"},"%":{label:"%"},em:{label:"em"},rem:{label:"rem"}},mn=({label:e,title:t,help:n,min:o,value:s,onBlur:i=Se.noop,onFocus:a=Se.noop,onChange:l})=>(0,Nt.jsx)(cn,{className:hn,label:e,title:t,help:n,min:o,value:s,units:gn,onBlur:i,onFocus:a,onChange:l}),hn=Ce({"& .nelio-popups-unit":{maxWidth:"26px"},"& .nelio-popups-unit > span":{fontSize:"9px"}}),bn={"greater-than":(0,Ee._x)("greater than","text","nelio-popups"),"less-than":(0,Ee._x)("less than","text","nelio-popups"),between:(0,Ee._x)("between","text","nelio-popups")},fn=(Object.keys(bn).map((e=>({value:e,label:bn[e]}))),Ce({'input[type="date"]':{paddingTop:0,paddingBottom:0}}),()=>(0,Nt.jsx)("div",{style:{marginTop:"1em",paddingTop:"1em",borderTop:"1px solid #e0e0e0"}})),vn=(Ce({".components-form-token-field__input-container":{background:"#fff"},".components-form-token-field__help":{display:"none"},".components-form-token-field__label":{display:"none"}}),{is:(0,Ee._x)("is","text","nelio-popups"),"is-not":(0,Ee._x)("is not","text","nelio-popups")}),yn=(Object.keys(vn).map((e=>({value:e,label:vn[e]}))),{matchType:"is",matchValue:""}),jn={is:(0,Ee._x)("has value equal to","text","nelio-popups"),"is-not":(0,Ee._x)("has value different from","text","nelio-popups"),includes:(0,Ee._x)("has value that includes","text","nelio-popups"),"does-not-include":(0,Ee._x)("has value that does not include","text","nelio-popups"),regex:(0,Ee._x)("has value that matches","text","nelio-popups")},kn=[{value:"exists",label:(0,Ee._x)("exists","text","nelio-popups")},{value:"does-not-exist",label:(0,Ee._x)("does not exist","text","nelio-popups")},...Object.keys(jn).map((e=>({value:e,label:jn[e]})))],Cn=e=>{var t,n;const{keyValueMatch:o,keyHelp:s,keyPlaceholder:i,onKeyValueMatchChange:a}=e,l=(p=o).exists?p.value?wn(p):"exists":"does-not-exist",r=o.exists&&null!==(n=null===(t=o.value)||void 0===t?void 0:t.matchValue)&&void 0!==n?n:"";var p;return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Et.TextControl,{placeholder:i,help:s,value:o.key,onChange:e=>{a(Object.assign(Object.assign({},o),{key:e}))}}),(0,Nt.jsx)(Et.SelectControl,{value:l,options:kn,onChange:e=>a("exists"===e?{exists:!0,key:o.key,value:void 0}:"does-not-exist"===e?{exists:!1,key:o.key}:{exists:!0,key:o.key,value:{matchType:e,matchValue:On(o)}})}),"exists"!==l&&"does-not-exist"!==l&&(0,Nt.jsx)(Et.TextControl,{placeholder:"regex"===l?(0,Ee._x)("Regular expression","text","nelio-popups"):(0,Ee._x)("Value","text","nelio-popups"),value:r,onChange:e=>a({exists:!0,key:o.key,value:{matchType:wn(o),matchValue:e}})})]})};function wn(e){return e.exists&&e.value?e.value.matchType:yn.matchType}function On(e){return e.exists&&e.value?e.value.matchValue:yn.matchValue}const Bn=({className:e,label:t,help:n,min:o=0,value:s,disabled:i,onChange:a})=>(0,Nt.jsx)(Et.TextControl,{className:e,label:t,disabled:i,help:n,type:"number",min:o,value:s,onChange:e=>a(parseInt(e))}),Sn={"greater-than":(0,Ee._x)("greater than","text","nelio-popups"),"less-than":(0,Ee._x)("less than","text","nelio-popups"),between:(0,Ee._x)("between","text","nelio-popups")},In=(Object.keys(Sn).map((e=>({value:e,label:Sn[e]}))),({className:e,kind:t,name:o,label:s,placeholder:i,value:a,disabled:l,isSingle:r,onChange:p})=>{const[c,u]=(0,Tt.useState)(!1),d=function(e,t){const n=Ut(),o=Xt(),s="postType"===e?n:o;return(0,Se.find)(s,{slug:t})}(t,o),x=r&&!!a.length,{setQuery:g,items:m,loadMoreItems:h}=Vn(t,o,{exclude:a}),b=(0,Tt.useRef)(null);Nn(b,h),Tn(b,u);const f=function(e,t,o){o=null!=o?o:[];const s=n((n=>{const{getEntityRecord:s}=n(Yt.store);return o.map((n=>s(e,t,n)))})),i=n((n=>{const{hasFinishedResolution:s}=n(Yt.store);return o.map((n=>s("getEntityRecord",[e,t,n])))})),a=(0,Se.every)(i),l="postType"===e?(0,Se.filter)(s,Zt):(0,Se.filter)(s,Qt),r=l.map((({id:e})=>e)),p=o.filter((e=>!r.includes(e)));return a?{finished:!0,items:l,missingItems:p}:{finished:!1,items:l,pendingItems:p}}(t,o,a),v=[...f.items.map(zn),...f.finished?f.missingItems.map(En):f.pendingItems.map(An)];return(0,Nt.jsx)("div",{ref:b,className:je(Ln,{[Gn]:x},e),children:(0,Nt.jsx)(Et.FormTokenField,{value:v.map(Dn),disabled:l||!d,suggestions:m.map((e=>e.name)),onInputChange:g,onChange:e=>{var t;const n=null!==(t=e.find(Se.isString))&&void 0!==t?t:"",o=Pn(n,m);p([...e,{itemId:null==o?void 0:o.id}].filter(Fn).map((e=>e.itemId)))},maxLength:r?1:void 0,label:s||"",__experimentalShowHowTo:!r,__experimentalExpandOnFocus:c&&!x,placeholder:d?null!=i?i:(0,Ee._x)("Search","command","nelio-popups"):(0,Ee._x)("Loading…","text","nelio-popups")})})}),Vn=(e,t,o)=>{var s,i;const[a,l]=(0,Tt.useState)([]),[r,p]=(0,Tt.useState)(""),[c,u]=(0,Tt.useState)(1),d=function(e,t,o){o=Object.assign({per_page:10},o);const s=n((n=>n(Yt.store).getEntityRecords(e,t,o)));if(!n((n=>n(Yt.store).hasFinishedResolution("getEntityRecords",[e,t,o]))))return{finished:!1};const i="postType"===e?(0,Se.filter)(s,Zt):(0,Se.filter)(s,Qt);return{finished:!0,items:i,more:o.per_page===i.length}}(e,t,Object.assign(Object.assign({},o),{search:r,page:c,nelio_popups_search_by_title:!0}));return(0,Tt.useEffect)((()=>{if(!d.finished)return;const e=d.items.map(zn);l(1===c?e:[...a,...e])}),[null!==(i=null===(s=o.exclude)||void 0===s?void 0:s.join(","))&&void 0!==i?i:"",d.finished,r,c]),{items:$n(Object.assign(Object.assign({},o),{search:r}),a),loadMoreItems:d.finished&&d.more?()=>u(c+1):void 0,setQuery:(0,Se.debounce)(p,1e3)}},Nn=(e,t=Se.noop)=>(0,Tt.useEffect)((()=>{var n;const o=(0,Se.debounce)((e=>e.target&&Mn(e.target)&&t()),200),s={capture:!0};return null===(n=e.current)||void 0===n||n.addEventListener("scroll",o,s),()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.removeEventListener("scroll",o,s)}}),[t,e.current]),Tn=(e,t=Se.noop)=>(0,Tt.useEffect)((()=>{var n,o;const s=()=>t(!0),i=()=>t(!1),a={capture:!0};return null===(n=e.current)||void 0===n||n.addEventListener("focus",s,a),null===(o=e.current)||void 0===o||o.addEventListener("blur",i,a),()=>{var t,n;null===(t=e.current)||void 0===t||t.removeEventListener("focus",s,a),null===(n=e.current)||void 0===n||n.removeEventListener("blur",i,a)}}),[t,e.current]),En=e=>({id:e,
/* translators: item id */
name:(0,Ee.sprintf)((0,Ee._x)("Missing item %d","text","nelio-popups"),e)}),An=e=>({id:e,name:(0,Ee.sprintf)(/* translators: an id */ /* translators: an id */
(0,Ee._x)("Loading item %d…","text","nelio-popups"),e)}),$n=(e,t)=>{if(e.search){const{search:n}=e;t=t.filter((e=>e.name.toLowerCase().includes(n.toLowerCase())))}if(e.exclude){const{exclude:n}=e;t=t.filter((({id:e})=>!n.includes(e)))}return t},Pn=(e,t)=>t.find((t=>t.name.toLowerCase()===e.toLowerCase())),Dn=e=>({itemId:e.id,value:e.name,title:e.name}),Fn=e=>!!e.itemId,Rn=e=>e.name?e.name:e.title.raw,zn=e=>({id:e.id,name:(0,Ee.sprintf)("%1$s (%2$d)",Rn(e).replace(/,/g,""),e.id)}),Mn=e=>e.scrollHeight-e.scrollTop===e.clientHeight,Ln=Ce({"& .components-form-token-field__input-container":{background:"#fff"},"& .components-form-token-field__help, & .components-form-token-field__label":{display:"none"},"& ul.components-form-token-field__suggestions-list":{margin:"0",padding:"0"}}),Gn=Ce({'& input[type="text"].components-form-token-field__input':{height:"0!important",minHeight:"0!important",minWidth:"0!important",opacity:"0",width:"0!important"}}),Hn=({postType:e,value:t,disabled:n,isSingle:o,onChange:s})=>(0,Nt.jsx)(In,{kind:"postType",name:e,value:t,disabled:n,isSingle:o,onChange:s}),Wn=({className:e,label:t})=>(0,Nt.jsx)("p",{className:je(e,Yn),children:t}),Yn=Ce({color:"#757575",paddingTop:"1em"}),qn={is:(0,Ee._x)("is equal to","text","nelio-popups"),"is-not":(0,Ee._x)("is not equal to","text","nelio-popups"),includes:(0,Ee._x)("includes","text","nelio-popups"),"does-not-include":(0,Ee._x)("does not include","text","nelio-popups"),regex:(0,Ee._x)("matches regular expression","text","nelio-popups")},Un=Object.keys(qn).map((e=>({value:e,label:qn[e]}))),Xn=e=>{const{match:{matchType:t,matchValue:n},valueHelp:o,onStringMatchChange:s}=e;return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Et.SelectControl,{value:t,options:Un,onChange:e=>s({matchType:e,matchValue:n})}),(0,Nt.jsx)(Et.TextControl,{placeholder:"regex"===t?(0,Ee._x)("Regular expression","text","nelio-popups"):(0,Ee._x)("Value","text","nelio-popups"),help:o,value:n,onChange:e=>{s({matchType:t,matchValue:e})}})]})},Zn=window.wp.apiFetch,Qn=e.n(Zn)();const Jn=({postType:e,value:t,onChange:n})=>{const[o,s]=(0,Tt.useState)();if((0,Tt.useEffect)((()=>{var t,n,o,i;t=void 0,n=void 0,i=function*(){try{const t=yield Qn({path:(0,$t.addQueryArgs)("/wp/v2/templates",{post_type:e})});s(t)}catch(e){s([])}},new((o=void 0)||(o=Promise))((function(e,s){function a(e){try{r(i.next(e))}catch(e){s(e)}}function l(e){try{r(i.throw(e))}catch(e){s(e)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,l)}r((i=i.apply(t,n||[])).next())}))}),[e]),!o)return(0,Nt.jsx)("p",{children:(0,Ee._x)("Loading templates…","text","nelio-popups")});if(!o.length)return(0,Nt.jsx)("p",{children:(0,Ee._x)("No templates available","text","nelio-popups")});const i=o.map((e=>({label:e.title.rendered,value:e.slug})));return(0,Nt.jsx)(Et.SelectControl,{value:t,options:i,onChange:n,placeholder:(0,Ee._x)("Select a template…","user","nelio-popups")})},Kn=({taxonomy:e,value:t,disabled:n,isSingle:o,onChange:s})=>(0,Nt.jsx)(In,{kind:"taxonomy",name:e,value:t,disabled:n,isSingle:o,onChange:s}),eo=((0,Ee._x)("secs","text (short seconds)","nelio-popups"),(0,Ee._x)("seconds","text","nelio-popups"),(0,Ee._x)("mins","text (short minutes)","nelio-popups"),(0,Ee._x)("minutes","text","nelio-popups"),(0,Ee._x)("hours","text (short hours)","nelio-popups"),(0,Ee._x)("hours","text","nelio-popups"),(0,Ee._x)("days","text (short days)","nelio-popups"),(0,Ee._x)("days","text","nelio-popups"),(0,Ee._x)("months","text (short months)","nelio-popups"),(0,Ee._x)("months","text","nelio-popups"),({label:e,foreground:t,background:n})=>{const o=(0,Mt.useInstanceId)(eo);return(0,Nt.jsxs)(Et.BaseControl,{id:`nelio-popups-color-control-${o}`,children:[(0,Nt.jsx)(to,{label:null!=e?e:(0,Ee._x)("Color","text","nelio-popups"),foreground:t.color,background:n.color}),(0,Nt.jsxs)("div",{className:no,children:[(0,Nt.jsx)(an,{label:t.setLabel||(0,Ee._x)("Select Color","command","nelio-popups"),color:t.color,onChange:t.onChange}),(0,Nt.jsx)(an,{label:n.setLabel||(0,Ee._x)("Select Background","command","nelio-popups"),color:n.color,onChange:n.onChange})]})]})}),to=({label:e,foreground:t,background:n})=>(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("span",{children:e}),t&&(0,Nt.jsx)("span",{title:(0,Ee._x)("Foreground color","text","nelio-popups"),children:(0,Nt.jsx)(on,{colorValue:t})}),n&&(0,Nt.jsx)("span",{title:(0,Ee._x)("Background color","text","nelio-popups"),children:(0,Nt.jsx)(on,{colorValue:n})})]}),no=Ce({display:"flex",flexDirection:"row",gap:"1em",justifyContent:"flex-end",marginTop:"0.5em"}),oo=()=>{const e=(0,o.applyFilters)("nelio_popups.get_custom_open_cookie_control_component",so);return(0,Nt.jsx)(e,{})},so=()=>(0,Nt.jsx)(Et.ToggleControl,{disabled:!0,label:wt((0,Ee._x)("Create custom cookie when popup opens","command","nelio-popups")),checked:!1,onChange:Se.noop}),io=()=>{const[e,t]=(0,Tt.useState)("none");return(0,Nt.jsxs)("div",{className:co,children:[(0,Nt.jsx)(Et.Button,{variant:"secondary",onClick:()=>t("import"),children:(0,Ee._x)("Import","command","nelio-popups")}),(0,Nt.jsx)(Et.Button,{variant:"secondary",onClick:()=>t("export"),children:(0,Ee._x)("Export","command","nelio-popups")}),"none"!==e&&(0,Nt.jsx)(ao,{mode:e,onClose:()=>{t("none")}})]})},ao=({mode:e,onClose:t})=>{const n=ro(),[o,s]=(0,Tt.useState)("export"===e?n:""),i="export"===e?(0,Ee._x)("Export Popup Settings","text","nelio-popups"):(0,Ee._x)("Import Popup Settings","text","nelio-popups"),a="export"===e?(0,Ee._x)("Copy Settings","command","nelio-popups"):(0,Ee._x)("Import Settings","text","nelio-popups"),l=po(),r="export"===e?()=>{navigator.clipboard.writeText(n).then((()=>t()))}:()=>{l(o),t()};return(0,Nt.jsxs)(Et.Modal,{title:i,onRequestClose:t,children:[(0,Nt.jsx)(Et.TextareaControl,{placeholder:"import"===e?(0,Ee._x)("Paste export settings here…","user","nelio-popups"):void 0,value:o,onChange:s,readOnly:"export"===e}),(0,Nt.jsxs)("div",{className:uo,children:[(0,Nt.jsx)(Et.Button,{variant:"secondary",onClick:t,children:(0,Ee._x)("Close","command","nelio-popups")}),(0,Nt.jsx)(Et.Button,{variant:"primary",onClick:r,disabled:"import"===e&&!(0,Se.trim)(o),children:a})]})]})},lo=["advanced","animation","conditions","display","location","overlay","size","sound","spacing","target","triggers","wrapper"],ro=()=>{const e=lo.map((e=>Kt(e)[0])),t=(0,Se.zipObject)(lo,e);return JSON.stringify(t)},po=()=>{const{createSuccessNotice:e,createErrorNotice:n}=(0,t.useDispatch)(zt.store),o=lo.map((e=>Kt(e)[1])),s=(0,Se.zipObject)(lo,o);return t=>{try{const n=JSON.parse(t);Object.keys(s).forEach((e=>{const t=s[e];n[e]&&t&&t(n[e])})),e((0,Ee._x)("Popup settings imported.","text","nelio-popups"),{type:"snackbar"})}catch(e){n((0,Ee.sprintf)(/* translators: error message */ /* translators: error message */
(0,Ee._x)("Unable to import popup settings. %s","text","nelio-popups"),e.message))}}},co=Ce({justifyContent:"center",display:"flex",gap:"0.3em","> *":{flexGrow:1,justifyContent:"center",textAlign:"center"}}),uo=Ce({justifyContent:"end",display:"flex",gap:"0.3em",marginTop:"2em"}),xo=()=>{const e=(0,o.applyFilters)("nelio_popups.get_trigger_limit_control_component",go);return(0,Nt.jsx)(e,{})},go=()=>(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(mo,{}),(0,Nt.jsx)(ho,{})]}),mo=()=>(0,Nt.jsx)(Et.ToggleControl,{disabled:!0,label:wt((0,Ee._x)("Limit the number of times a visitor will see this popup","command","nelio-popups")),checked:!1,onChange:Se.noop}),ho=()=>(0,Nt.jsx)(Et.ToggleControl,{disabled:!0,label:wt((0,Ee._x)("Delay consecutive displays","command","nelio-popups")),checked:!1,onChange:Se.noop}),bo=e=>e.isVisible?(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Wn,{label:(0,Ee._x)("Tweak other settings here.","user","nelio-popups")}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(io,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(fo,{}),(0,Nt.jsx)(vo,{}),(0,Nt.jsx)(yo,{}),(0,Nt.jsx)(jo,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(xo,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(_o,{}),(0,Nt.jsx)(ko,{}),(0,Nt.jsx)(Co,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(oo,{})]}):null,fo=()=>{const[e,t]=tn("disablesOtherPopupOpenings");return(0,Nt.jsx)(Et.CheckboxControl,{label:(0,Ee._x)("Prevent other popups from opening when this one is visible","command","nelio-popups"),checked:e,onChange:t})},vo=()=>{const[e,t]=tn("isDisabledIfOpenedPopups");return(0,Nt.jsx)(Et.CheckboxControl,{label:(0,Ee._x)("Prevent this popup from opening when others are visible","command","nelio-popups"),checked:e,onChange:t})},yo=()=>{const[e,t]=tn("isDisabledOnMobile");return(0,Nt.jsx)(Et.CheckboxControl,{label:(0,Ee._x)("Show on mobile devices","command","nelio-popups"),checked:!e,onChange:()=>t(!e)})},jo=()=>{const[e,t]=tn("isLocationCheckInServer");return(0,Nt.jsx)(Et.CheckboxControl,{label:(0,Ee._x)("Evaluate location conditions on the server to determine if this popup should be displayed on the frontend","command","nelio-popups"),checked:e,onChange:e=>t(e)})},_o=()=>{const[e,t]=en("closeOnEscPressed");return(0,Nt.jsx)(Et.CheckboxControl,{label:(0,Ee._x)("Close on ESC","command","nelio-popups"),checked:e,onChange:t})},ko=()=>{const[e,t]=en("closeOnOverlayClicked");return(0,Nt.jsx)(Et.CheckboxControl,{label:(0,Ee._x)("Close on outside click","command","nelio-popups"),checked:e,onChange:t})},Co=()=>{const[e,t]=en("isBodyScrollLocked");return(0,Nt.jsx)(Et.CheckboxControl,{label:(0,Ee._x)("Lock body scroll","command","nelio-popups"),checked:e,onChange:t})},wo=({condition:e,onChange:t})=>(0,Nt.jsx)(Cn,{keyPlaceholder:(0,Ee._x)("Cookie name","text","nelio-popups"),keyValueMatch:e,onKeyValueMatchChange:n=>{t(Object.assign(Object.assign({},e),n))}});(0,o.addFilter)("nelio_popups.get_cookie_condition_component","nelio_popups.get_cookie_condition_component",(()=>wo));const Oo=({condition:e,onChange:t})=>(0,Nt.jsx)(Xn,{match:e,onStringMatchChange:n=>{t(Object.assign(Object.assign({},e),n))}});(0,o.addFilter)("nelio_popups.get_referrer_condition_component","nelio_popups.get_referrer_condition_component",(()=>Oo));const Bo=({condition:e,disabledTypes:t,onChange:n,onDelete:s})=>{const i=(0,Se.sortBy)([...Le(),...He()],"disabled","label").map((n=>n.value!==e.type&&t.includes(n.value)?Object.assign(Object.assign({},n),{disabled:!0}):n)),a=(0,o.applyFilters)(`nelio_popups.get_${e.type}_condition_component`,(()=>null));return(0,Nt.jsxs)("div",{className:je("nelio-popups-condition-item",So),children:[(0,Nt.jsxs)("div",{className:je("nelio-popups-condition-item__header",Io),children:[(0,Nt.jsx)("div",{className:"nelio-popups-condition-item__selector",children:(0,Nt.jsx)(Et.SelectControl,{value:e.type,options:i,onChange:e=>n(Ke({type:e}))})}),(0,Nt.jsx)("div",{className:"nelio-popups-condition-item__remove",children:(0,Nt.jsx)(Et.Button,{title:(0,Ee._x)("Remove","text","nelio-popups"),className:No,icon:"no",onClick:()=>s(e)})})]}),(0,Nt.jsx)("div",{className:je("nelio-popups-condition-item__body",Vo),children:(0,Nt.jsx)(a,{condition:e,onChange:n})})]})},So=Ce({borderBottom:"1px solid #e0e0e0",position:"relative","&:last-child":{borderBottom:"none"},":hover":{backgroundColor:"#f3f2f2"},"&:not(:first-child)":{paddingTop:"0.5em"},"&:not(:last-child)":{paddingBottom:"0.5em"},"&:not(:last-child)::before":{display:"block",textAlign:"center",content:`"${(0,Ee._x)("AND","text","nelio-popups")}"`,background:"#fff",borderRadius:"10px",border:"1px solid #e0e0e0",padding:"1px 5px",position:"absolute",bottom:"0",zIndex:1,left:"50%",transform:"translate(-50%, 50%)"}}),Io=Ce({display:"flex",flexDirection:"row"," > :first-child":{flexGrow:1,padding:"1em",paddingBottom:"5px"}," > :last-child":{flexGrow:0,flexShrink:0,paddingTop:"1px"}}),Vo=Ce({padding:"0 1em 5px 1em"}),No=Ce({":hover":{color:"#cc1818"}}),To=e=>{const{group:t,onChange:n}=e,o=(0,Se.map)(t,"type").filter((e=>{return t=e,!we.includes(t);var t})),s=[...Le(),...He()].filter((({disabled:e})=>!e)).filter((({value:e})=>!o.includes(e))),i=!!s.length&&s[0]&&Ke({type:s[0].value});return(0,Nt.jsxs)("div",{className:je("nelio-popups-condition-group-wrapper",Ao),children:[(0,Nt.jsx)("div",{className:je("nelio-popups-condition-group"),children:t.map(((e,s)=>(0,Nt.jsx)(Bo,{condition:e,disabledTypes:o,onAdd:e=>n([...t,e]),onChange:e=>n([...t].map(((t,n)=>n===s?e:t))),onDelete:e=>n([...t].filter((t=>e!==t)))},`nelio-popups-condition-item-${s}`)))}),i&&(0,Nt.jsx)(Eo,{onAdd:()=>n([...t,i])})]})},Eo=e=>(0,Nt.jsx)("div",{className:$o,children:(0,Nt.jsx)(Et.Button,{variant:"secondary",onClick:e.onAdd,children:(0,Ee._x)("Add Condition","command","nelio-popups")})}),Ao=Ce({border:"1px solid #e0e0e0",position:"relative","&:not(:last-child)":{marginBottom:"3em"},"&:not(:last-child)::before":{display:"block",content:'""',borderTop:"2px dashed #e0e0e0",position:"absolute",bottom:"calc(-1.5em - 3px)",width:"100%"},"&:not(:last-child)::after":{display:"block",textAlign:"center",content:`"${(0,Ee._x)("OR","text","nelio-popups")}"`,background:"#fff",borderRadius:"10px",padding:"2px 10px",position:"absolute",bottom:"calc(-1.5em - 1px)",left:"50%",transform:"translate(-50%, 50%)"}}),$o=Ce({borderTop:"1px solid #e0e0e0",padding:"1em",textAlign:"center"}),Po=[{type:"referrer",matchType:"is",matchValue:""}],Do=()=>{const[e,t]=Kt("conditions");return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)("p",{className:Ro,children:(0,Ee._x)("Show popup if:","command","nelio-popups")}),(0,Nt.jsx)("div",{className:"nelio-popups-condition-groups",children:e.map(((n,o)=>(0,Nt.jsx)(To,{group:n,onChange:n=>t([...e].map(((e,t)=>t===o?n:e)).filter((e=>e.length)))},`nelio-popups-condition-group-${o}`)))}),(0,Nt.jsx)(Fo,{onAdd:()=>t([...e,Po])})]})},Fo=e=>(0,Nt.jsx)("div",{className:zo,children:(0,Nt.jsx)(Et.Button,{variant:"primary",onClick:e.onAdd,children:(0,Ee._x)("Add Condition Group","command","nelio-popups")})}),Ro=Ce({marginTop:"2em"}),zo=Ce({marginTop:"1em",textAlign:"center"}),Mo=e=>e.isVisible?(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Wn,{label:(0,Ee._x)("Set under which conditions a visitor will see the popup.","user","nelio-popups")}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(Do,{})]}):null,Lo={"home-page":(0,Ee._x)("Home Page","text","nelio-popups"),"search-result-page":(0,Ee._x)("Search Results Page","text","nelio-popups"),"404-page":(0,Ee._x)("404 Page","text","nelio-popups"),"blog-page":(0,Ee._x)("Blog Index","text","nelio-popups")},Go=Object.keys(Lo).map((e=>({value:e,label:Lo[e]}))),Ho=({condition:e,onChange:t})=>(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Wo,{condition:e,onChange:t}),(0,Nt.jsx)(Yo,{condition:e,onChange:t})]});(0,o.addFilter)("nelio_popups.get_content_condition_component","nelio_popups.get_content_condition_component",(()=>Ho)),(0,o.addFilter)("nelio_popups.get_excluded-content_condition_component","nelio_popups.get_excluded-content_condition_component",(()=>Ho));const Wo=({condition:e,onChange:t})=>{const n=qt(),o=(0,Se.sortBy)([...Go,...n.map((e=>{var t;return{value:Xo(e.slug),label:null!==(t=e.labels.singular_name)&&void 0!==t?t:e.name}}))],"label");return(0,Nt.jsx)(Et.SelectControl,{value:"post-type"===e.value?Xo(e.postType):e.value,options:o,onChange:n=>{Uo(n)?t({type:e.type,value:n}):t({type:e.type,value:"post-type",postType:Zo(n),postValue:{type:"all-posts"}})}})},Yo=({condition:e,onChange:t})=>{const n=qt();if("post-type"!==e.value)return null;const o=n.find((t=>t.slug===e.postType));return o?(0,Nt.jsx)(qo,{postType:o,value:e.postValue,onValueChange:n=>t(Object.assign(Object.assign({},e),{postValue:n}))}):null},qo=e=>{const{postType:t,value:n,onValueChange:o}=e,s=function(e){const t=Xt();return(0,Se.filter)(t,(t=>!e||t.types.includes(e)))}(t.slug),i=function(e,t){const n={"all-posts":es(e),"selected-posts":ts(e)};return[...Object.keys(n).map((e=>({value:e,label:n[e]}))),...e.hierarchical?[{value:"children",label:(0,Ee.sprintf)(/* translators: post type name in plural */ /* translators: post type name in plural */
(0,Ee._x)("%s that are children of","text","nelio-popups"),e.name)}]:[],...[{value:"template",label:(0,Ee.sprintf)(/* translators: post type name in plural */ /* translators: post type name in plural */
(0,Ee._x)("%s with selected template","text","nelio-popups"),e.name)}],...t.map((t=>({value:Jo(t.slug),label:Ot((0,Ee.sprintf)(/* translators: 1 => post type name in plural, 2 => taxonomy name in plural */ /* translators: 1 => post type name in plural, 2 => taxonomy name in plural */
(0,Ee._x)("%1$s with selected %2$s","text","nelio-popups"),e.name,t.name)),disabled:!Ct()})))]}(t,s);return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Et.SelectControl,{value:"selected-terms"===n.type?Jo(n.taxonomyName):n.type,options:i,onChange:e=>{var t;const n=Qo(e)?"selected-terms":e;switch(n){case"all-posts":case"template":return o({type:n});case"selected-posts":case"children":return o({type:n,postIds:[]});case"selected-terms":return o({type:n,taxonomyName:null!==(t=Ko(e))&&void 0!==t?t:"",termIds:[]})}}}),("selected-posts"===n.type||"children"===n.type)&&(0,Nt.jsx)(Hn,{postType:t.slug,value:n.postIds,onChange:e=>o(Object.assign(Object.assign({},n),{postIds:e}))}),"template"===n.type&&(0,Nt.jsx)(Jn,{postType:t.slug,value:n.template,onChange:e=>o(Object.assign(Object.assign({},n),{template:e}))}),"selected-terms"===n.type&&(0,Nt.jsx)(Kn,{taxonomy:n.taxonomyName,value:n.termIds,onChange:e=>o(Object.assign(Object.assign({},n),{termIds:e}))})]})},Uo=e=>"404-page"===e||"blog-page"===e||"home-page"===e||"search-result-page"===e,Xo=e=>`nelio_popups__${e}`,Zo=e=>e.replace("nelio_popups__",""),Qo=e=>e.startsWith("selected-terms-"),Jo=e=>`selected-terms-${e}`,Ko=e=>Qo(e)?e.replace("selected-terms-",""):void 0;function es(e){switch(e.slug){case"page":case"post":return e.labels.all_items;default:return(0,Ee._x)("All Items","text","nelio-popups")}}function ts(e){switch(e.slug){case"page":return(0,Ee._x)("Selected Pages","text","nelio-popups");case"post":return(0,Ee._x)("Selected Posts","text","nelio-popups");default:return(0,Ee._x)("Selected Items","text","nelio-popups")}}const ns=({condition:e,usedTypes:t,isDeleteActive:n,onChange:s,onDelete:i})=>{const a=(0,Se.sortBy)([...Ge(),...We()],"disabled","label").map((n=>n.value!==e.type&&t.includes(n.value)?Object.assign(Object.assign({},n),{disabled:!0}):n)),l=(0,o.applyFilters)(`nelio_popups.get_${e.type}_condition_component`,(()=>null));return(0,Nt.jsxs)("div",{className:je("nelio-popups-condition-item",os),children:[(0,Nt.jsxs)("div",{className:je("nelio-popups-condition-item__header",ss),children:[(0,Nt.jsx)("div",{className:"nelio-popups-condition-item__selector",children:(0,Nt.jsx)(Et.SelectControl,{value:e.type,options:a,onChange:e=>s(ct({type:e}))})}),(0,Nt.jsx)("div",{className:"nelio-popups-condition-item__remove",children:n&&(0,Nt.jsx)(Et.Button,{title:(0,Ee._x)("Remove","text","nelio-popups"),className:as,icon:"no",onClick:()=>i(e)})})]}),(0,Nt.jsx)("div",{className:je("nelio-popups-condition-item__body",is),children:(0,Nt.jsx)(l,{condition:e,onChange:s})})]})},os=Ce({borderBottom:"1px solid #e0e0e0",position:"relative","&:last-child":{borderBottom:"none"},":hover":{backgroundColor:"#f3f2f2"},"&:not(:first-child)":{paddingTop:"0.5em"},"&:not(:last-child)":{paddingBottom:"0.5em"},"&:not(:last-child)::before":{display:"block",textAlign:"center",content:`"${(0,Ee._x)("AND","text","nelio-popups")}"`,background:"#fff",borderRadius:"10px",border:"1px solid #e0e0e0",padding:"1px 5px",position:"absolute",bottom:"0",zIndex:1,left:"50%",transform:"translate(-50%, 50%)"}}),ss=Ce({display:"flex",flexDirection:"row"," > :first-child":{flexGrow:1,padding:"1em",paddingBottom:"5px"}," > :last-child":{flexGrow:0,flexShrink:0,paddingTop:"1px"}}),is=Ce({padding:"0 1em 5px 1em"}),as=Ce({":hover":{color:"#cc1818"}}),ls=e=>{const{group:t,isDeleteActive:n,onChange:o}=e,s=(0,Se.map)(t,"type"),i=[...Ge(),...We()].filter((({disabled:e})=>!e)).filter((({value:e})=>!s.includes(e))),a=!!i.length&&i[0]&&ct({type:i[0].value});return(0,Nt.jsxs)("div",{className:je("nelio-popups-condition-group-wrapper",ps),children:[(0,Nt.jsx)("div",{className:je("nelio-popups-content-group"),children:t.map(((e,i)=>(0,Nt.jsx)(ns,{condition:e,isDeleteActive:n,usedTypes:s,onAdd:e=>o([...t,e]),onChange:e=>o([...t].map(((t,n)=>{return n===i?(s=e,(o=t).type===s.type?s:"content"===o.type&&"excluded-content"===s.type||"excluded-content"===o.type&&"content"===s.type||"taxonomy"===o.type&&"excluded-taxonomy"===s.type||"excluded-taxonomy"===o.type&&"taxonomy"===s.type?Object.assign(Object.assign({},o),{type:s.type}):s):t;var o,s}))),onDelete:e=>o([...t].filter((t=>e!==t)))},`nelio-popups-content-item-${i}`)))}),a&&(0,Nt.jsx)(rs,{onAdd:()=>o([...t,a])})]})},rs=e=>(0,Nt.jsx)("div",{className:cs,children:(0,Nt.jsx)(Et.Button,{variant:"secondary",onClick:e.onAdd,children:(0,Ee._x)("Add Condition","command","nelio-popups")})}),ps=Ce({border:"1px solid #e0e0e0",position:"relative","&:not(:last-child)":{marginBottom:"3em"},"&:not(:last-child)::before":{display:"block",content:'""',borderTop:"2px dashed #e0e0e0",position:"absolute",bottom:"calc(-1.5em - 3px)",width:"100%"},"&:not(:last-child)::after":{display:"block",textAlign:"center",content:`"${(0,Ee._x)("OR","text","nelio-popups")}"`,background:"#fff",borderRadius:"10px",padding:"2px 10px",position:"absolute",bottom:"calc(-1.5em - 1px)",left:"50%",transform:"translate(-50%, 50%)"}}),cs=Ce({borderTop:"1px solid #e0e0e0",padding:"1em",textAlign:"center"}),us=[{type:"content",value:"home-page"}],ds=()=>{var e;const[t,n]=Kt("target");if("condition-based-target"!==t.type)return null;const{groups:o}=t,s=o.length>1||1===o.length&&(null!==(e=o[0])&&void 0!==e?e:[]).length>1;return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)("p",{className:gs,children:(0,Ee._x)("Show popup if:","command","nelio-popups")}),(0,Nt.jsx)("div",{className:"nelio-popups-condition-groups",children:o.map(((e,i)=>(0,Nt.jsx)(ls,{group:e,isDeleteActive:s,onChange:e=>n(Object.assign(Object.assign({},t),{groups:[...o].map(((t,n)=>n===i?e:t)).filter((e=>e.length))}))},`nelio-popups-condition-group-${i}`)))}),(0,Nt.jsx)(xs,{onAdd:()=>n(Object.assign(Object.assign({},t),{groups:[...o,us]}))})]})},xs=e=>(0,Nt.jsx)("div",{className:ms,children:(0,Nt.jsx)(Et.Button,{variant:"primary",onClick:e.onAdd,children:(0,Ee._x)("Add Condition Group","command","nelio-popups")})}),gs=Ce({marginTop:"2em"}),ms=Ce({marginTop:"1em",textAlign:"center"}),hs=e=>e.isVisible?(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Wn,{label:(0,Ee._x)("Select the locations where the popup can show up.","user","nelio-popups")}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(ys,{}),(0,Nt.jsx)(ds,{})]}):null,bs={type:"condition-based-target",groups:[[{type:"content",value:"home-page"}]]},fs={"full-site-target":(0,Ee._x)("Show Everywhere","command","nelio-popups"),"condition-based-target":(0,Ee._x)("Show on Selected Groups","comand","nelio-popups"),"manual-target":(0,Ee._x)("Let Each Page Decide","command (if popup is visible)","nelio-popups")},vs=Object.keys(fs).map((e=>({value:e,label:fs[e]}))),ys=()=>{const[e,t]=Kt("target");return(0,Nt.jsx)(Et.SelectControl,{value:e.type,options:vs,onChange:n=>{switch(n){case"full-site-target":case"manual-target":return t(Object.assign(Object.assign({},e),{type:n}));default:return t(Object.assign(Object.assign(Object.assign({},bs),e),{type:n}))}}})},js=(0,Se.sortBy)([...Ie(Ae),...Bt("condition",$e)],"disabled","label"),_s={type:"fade",delay:"none",speed:"default"},ks={none:(0,Ee._x)("None","text (animation delay)","nelio-popups"),short:(0,Ee._x)("Short","text (animation delay)","nelio-popups"),medium:(0,Ee._x)("Medium","text (animation delay)","nelio-popups"),long:(0,Ee._x)("Long","text (animation delay)","nelio-popups")},Cs={default:(0,Ee._x)("Default","text (animation speed)","nelio-popups"),slower:(0,Ee._x)("Slower","text (animation speed)","nelio-popups"),slow:(0,Ee._x)("Slow","text (animation speed)","nelio-popups"),fast:(0,Ee._x)("Fast","text (animation speed)","nelio-popups"),faster:(0,Ee._x)("Faster","text (animation speed)","nelio-popups")},ws=Object.keys(ks).map((e=>({value:e,label:ks[e]}))),Os=Object.keys(Cs).map((e=>({value:e,label:Cs[e]}))),Bs=()=>{const[e,t]=Kt("animation");return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Et.SelectControl,{label:(0,Ee._x)("Animation","text","nelio-popups"),value:e.type,options:js,onChange:n=>t(Object.assign(Object.assign(Object.assign({},_s),e),{type:n}))}),"none"!==e.type&&(0,Nt.jsxs)("div",{className:Ss,children:[(0,Nt.jsx)(Et.SelectControl,{label:(0,Ee._x)("Delay","text","nelio-popups"),value:e.delay,options:ws,onChange:n=>t(Object.assign(Object.assign({},e),{delay:n}))}),(0,Nt.jsx)(Et.SelectControl,{label:(0,Ee._x)("Speed","text","nelio-popups"),value:e.speed,options:Os,onChange:n=>t(Object.assign(Object.assign({},e),{speed:n}))})]})]})},Ss=Ce({display:"flex",flexDirection:"row",gap:"0.5em","> *":{width:"calc(50% - 0.25em)"}}),Is={center:(0,Ee._x)("Center","text","nelio-popups"),top:(0,Ee._x)("Top","text","nelio-popups"),"top-left":(0,Ee._x)("Top Left","text","nelio-popups"),"top-right":(0,Ee._x)("Top Right","text","nelio-popups"),bottom:(0,Ee._x)("Bottom","text","nelio-popups"),"bottom-left":(0,Ee._x)("Bottom Left","text","nelio-popups"),"bottom-right":(0,Ee._x)("Bottom Right","text","nelio-popups"),left:(0,Ee._x)("Left","text","nelio-popups"),right:(0,Ee._x)("Right","text","nelio-popups")},Vs=(0,Se.sortBy)(Object.keys(Is).map((e=>({value:e,label:Is[e]}))),"label"),Ns=()=>{const[e]=Kt("size"),[t,n]=Kt("location");return"fullscreen"===e.type?null:(0,Nt.jsx)(Et.SelectControl,{label:(0,Ee._x)("Location","text","nelio-popups"),value:t,options:Vs,onChange:n})},Ts=()=>{const[e,t]=Kt("overlay"),{isEnabled:n}=e;return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Et.ToggleControl,{label:(0,Ee._x)("Add overlay behind popup","command","nelio-popups"),checked:n,onChange:e=>t({color:"#000000cc",isEnabled:e})}),n&&(0,Nt.jsx)(ln,{color:e.color,onChange:n=>t(Object.assign(Object.assign({},e),{color:n}))})]})},Es={type:"auto",value:"normal"},As={type:"custom",width:{value:600,unit:"px"},height:{type:"auto-adjust"}},$s={type:"custom-height",value:{value:400,unit:"px"},isContentScrollable:!1},Ps={fullscreen:(0,Ee._x)("Fullscreen","text","nelio-popups"),auto:(0,Ee._x)("Auto","text","nelio-popups"),custom:(0,Ee._x)("Custom Size","text","nelio-popups")},Ds={tiny:(0,Ee._x)("Tiny","text (size)","nelio-popups"),small:(0,Ee._x)("Small","text (size)","nelio-popups"),medium:(0,Ee._x)("Medium","text (size)","nelio-popups"),normal:(0,Ee._x)("Normal","text (size)","nelio-popups"),large:(0,Ee._x)("Large","text (size)","nelio-popups")},Fs=(0,Se.sortBy)(Object.keys(Ps).map((e=>({value:e,label:Ps[e]}))),"label"),Rs=Object.keys(Ds).map((e=>({value:e,label:Ds[e]}))),zs=()=>{const[e,t]=Kt("size");return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Et.SelectControl,{label:(0,Ee._x)("Size","text","nelio-popups"),value:e.type,options:Fs,onChange:n=>{switch(n){case"auto":return t(Object.assign(Object.assign(Object.assign({},Es),e),{type:n}));case"custom":return t(Object.assign(Object.assign(Object.assign({},As),e),{type:n}));default:return t(Object.assign(Object.assign({},e),{type:n}))}}}),(0,Nt.jsx)(Ms,{}),(0,Nt.jsx)(Ls,{})]})},Ms=()=>{const[e,t]=Kt("size");return"auto"!==e.type?null:(0,Nt.jsx)(Et.SelectControl,{label:(0,Ee._x)("Width","text","nelio-popups"),value:e.value,options:Rs,onChange:n=>t(Object.assign(Object.assign({},e),{value:n}))})},Ls=()=>{const[e,t]=Kt("size");return"custom"!==e.type?null:(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(mn,{label:(0,Ee._x)("Width","text","nelio-popups"),min:0,value:e.width,onChange:n=>t(Object.assign(Object.assign({},e),{width:n}))}),(0,Nt.jsx)(Et.ToggleControl,{label:(0,Ee._x)("Set custom height","command","nelio-popups"),checked:"custom-height"===e.height.type,onChange:n=>t(Object.assign(Object.assign({},e),{height:n?Object.assign(Object.assign(Object.assign({},$s),e.height),{type:"custom-height"}):{type:"auto-adjust"}}))}),(0,Nt.jsx)(Gs,{})]})},Gs=()=>{const[e,t]=Kt("size");return"custom"!==e.type||"custom-height"!==e.height.type?null:(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(mn,{label:(0,Ee._x)("Custom height","text","nelio-popups"),min:0,value:e.height.value,onChange:n=>t(Object.assign(Object.assign({},e),{height:Object.assign(Object.assign(Object.assign({},$s),e.height),{type:"custom-height",value:n})}))}),(0,Nt.jsx)(Et.ToggleControl,{label:(0,Ee._x)("Allow scroll in popup content","command","nelio-popups"),checked:e.height.isContentScrollable,onChange:n=>t(Object.assign(Object.assign({},e),{height:Object.assign(Object.assign(Object.assign({},$s),e.height),{type:"custom-height",isContentScrollable:n})}))})]})},Hs=()=>(0,Nt.jsx)(Et.SelectControl,{label:wt((0,Ee._x)("Sound","text","nelio-popups")),disabled:!0,options:[{value:"none",label:(0,Ee._x)("None","text (sound)","nelio-popups")}],onChange:Se.noop}),Ws=window.wp.primitives,Ys=(0,Nt.jsx)(Ws.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Nt.jsx)(Ws.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),qs=(0,Nt.jsx)(Ws.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Nt.jsx)(Ws.Path,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"})}),Us=()=>{const[e,t]=Kt("spacing"),{margin:n,padding:o}=e;return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Zs,{label:(0,Ee._x)("Padding","command","nelio-popups"),dimensions:o,onChange:n=>t(Object.assign(Object.assign({},e),{padding:n}))}),(0,Nt.jsx)(Zs,{label:(0,Ee._x)("Margin","command","nelio-popups"),dimensions:n,onChange:n=>t(Object.assign(Object.assign({},e),{margin:n}))})]})},Xs=[{key:"top",title:(0,Ee._x)("Top","text","nelio-popups")},{key:"right",title:(0,Ee._x)("Right","text","nelio-popups")},{key:"bottom",title:(0,Ee._x)("Bottom","text","nelio-popups")},{key:"left",title:(0,Ee._x)("Left","text","nelio-popups")}],Zs=e=>{const{label:t,dimensions:n,onChange:o}=e,s=(0,Mt.useInstanceId)(Zs),[i,a]=(0,Tt.useState)("none"),[l,r]=(0,Tt.useState)(Ks(n)),p=()=>{r(!l),l||o({top:n.top,bottom:n.top,left:n.top,right:n.top})};return l?(0,Nt.jsx)(Et.BaseControl,{id:`nelio-popups-dimension-control-${s}`,className:ei,label:(0,Nt.jsx)(Js,{label:t,side:i,toggle:p,isSingle:l}),children:(0,Nt.jsx)(mn,{min:0,value:n.top,onBlur:()=>a("none"),onFocus:()=>a("all"),onChange:e=>o({top:e,bottom:e,left:e,right:e})})}):(0,Nt.jsx)(Et.BaseControl,{id:`nelio-popups-dimension-control-${s}`,className:ei,label:(0,Nt.jsx)(Js,{label:t,side:i,toggle:p,isSingle:l}),children:(0,Nt.jsx)("div",{className:ni,children:Xs.map((({key:e,title:t})=>(0,Nt.jsx)(Et.Tooltip,{text:t,position:"top center",children:(0,Nt.jsx)("div",{children:(0,Nt.jsx)(mn,{min:0,value:n[e],onBlur:()=>a("none"),onFocus:()=>a(e),onChange:t=>o(Object.assign(Object.assign({},n),{[e]:t}))})})},e)))})})},Qs=({side:e})=>{const t=t=>"all"===e||e===t,n=(e,t)=>je(e,Ce({opacity:t?1:.3}));return(0,Nt.jsx)("div",{children:(0,Nt.jsx)("span",{className:oi,children:(0,Nt.jsxs)("span",{className:si,children:[(0,Nt.jsx)("span",{className:n(ri,t("top"))}),(0,Nt.jsx)("span",{className:n(pi,t("right"))}),(0,Nt.jsx)("span",{className:n(ci,t("bottom"))}),(0,Nt.jsx)("span",{className:n(ui,t("left"))})]})})})},Js=({label:e,side:t,isSingle:n,toggle:o})=>{const s=n?(0,Ee._x)("Unlink Sides","command (dims setting)","nelio-popups"):(0,Ee._x)("Link Sides","command (dims setting)","nelio-popups");return(0,Nt.jsxs)("div",{className:ti,children:[(0,Nt.jsx)("span",{children:e}),(0,Nt.jsx)(Qs,{side:t}),(0,Nt.jsx)("div",{className:Ce({flexGrow:1})}),(0,Nt.jsx)(Et.Tooltip,{text:s,children:(0,Nt.jsx)("div",{children:(0,Nt.jsx)(Et.Button,{variant:n?"primary":"secondary",size:"small",icon:n?Ys:qs,iconSize:16,"aria-label":s,onClick:o})})})]})},Ks=e=>(0,Se.isEqual)(e.top,e.bottom)&&(0,Se.isEqual)(e.top,e.left)&&(0,Se.isEqual)(e.top,e.right),ei=Ce({"& label":{width:"100%"}}),ti=Ce({alignItems:"center",display:"flex",flexDirection:"row",alignContent:"space-between"}),ni=Ce({display:"flex",flexDirection:"row",gap:"4px"}),oi=Ce({boxSizing:"border-box",display:"block",width:"24px",height:"24px",position:"relative",padding:"4px"}),si=Ce({boxSizing:"border-box",display:"block",position:"relative",width:"100%",height:"100%"}),ii=Ce({backgroundColor:"currentColor",boxSizing:"border-box",display:"block",pointerEvents:"none",position:"absolute"}),ai=je(ii,Ce({bottom:"3px",top:"3px",width:"2px"})),li=je(ii,Ce({height:"2px",left:"3px",right:"3px"})),ri=je(li,Ce({top:"0"})),pi=je(ai,Ce({right:"0"})),ci=je(li,Ce({bottom:"0"})),ui=je(ai,Ce({left:"0"})),di={isEnabled:!0,radius:{value:0,unit:"px"},color:"#FFFFFF",width:{value:0,unit:"px"}},xi=()=>{const[e,t]=nn("border"),{isEnabled:n}=e;return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Et.ToggleControl,{label:(0,Ee._x)("Add popup border","command","nelio-popups"),checked:n,onChange:e=>t(Object.assign(Object.assign({},di),{isEnabled:e}))}),n&&(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(ln,{color:e.color,onChange:n=>t(Object.assign(Object.assign({},e),{color:n}))}),(0,Nt.jsxs)("div",{className:gi,children:[(0,Nt.jsx)(mn,{label:(0,Ee._x)("Radius","text","nelio-popups"),min:0,value:e.radius,onChange:n=>t(Object.assign(Object.assign({},e),{radius:n}))}),(0,Nt.jsx)(mn,{label:(0,Ee._x)("Width","text","nelio-popups"),min:0,value:e.width,onChange:n=>t(Object.assign(Object.assign({},e),{width:n}))})]})]})]})},gi=Ce({display:"flex",flexDirection:"row",gap:"0.5em",marginTop:"1em","> *":{width:"calc(50% - 0.25em)"}}),mi={isEnabled:!0,icon:"dashicons-no",label:"",size:{value:1,unit:"em"},delayInMillis:0,position:"top-right",color:"#000000",backgroundColor:"#ffffff00"},hi=()=>(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(bi,{}),(0,Nt.jsx)(fi,{}),(0,Nt.jsx)(vi,{}),(0,Nt.jsx)(yi,{}),(0,Nt.jsx)(Ci,{})]}),bi=()=>{const[e,t]=nn("closeButton"),{isEnabled:n}=e;return(0,Nt.jsx)(Et.ToggleControl,{label:(0,Ee._x)("Add close button","command","nelio-popups"),checked:n,onChange:e=>t(Object.assign(Object.assign({},mi),{isEnabled:e}))})},fi=()=>{const[e]=nn("closeButton"),{isEnabled:t}=e;return t?(0,Nt.jsxs)("div",{className:Vi,children:[(0,Nt.jsx)(_i,{}),(0,Nt.jsx)(ki,{})]}):null},vi=()=>{const[e,t]=nn("closeButton"),{isEnabled:n}=e;return n?(0,Nt.jsx)(mn,{label:(0,Ee._x)("Size","text","nelio-popups"),min:0,value:e.size,onChange:n=>t(Object.assign(Object.assign({},e),{size:n}))}):null},yi=()=>{const[e]=nn("closeButton"),{isEnabled:t}=e;return t?(0,Nt.jsxs)("div",{className:Ni,children:[(0,Nt.jsx)(Si,{}),(0,Nt.jsx)(wi,{})]}):null},ji=[{icon:"nelio-none",title:(0,Ee._x)("None","text (dashicon)","nelio-popups")},{icon:"dismiss",title:(0,Ee._x)("Dismiss","text (dashicon)","nelio-popups")},{icon:"no",title:(0,Ee._x)("No","text (dashicon)","nelio-popups")},{icon:"no-alt",title:(0,Ee._x)("No (alt)","text (dashicon)","nelio-popups")},{icon:"remove",title:(0,Ee._x)("Remove","text (dashicon)","nelio-popups")},{icon:"minus",title:(0,Ee._x)("Minus","text (dashicon)","nelio-popups")}],_i=()=>{const e=(0,Mt.useInstanceId)(_i),[t,n]=nn("closeButton");if(!t.isEnabled)return null;const o=t.icon.replace("dashicons-","");return(0,Nt.jsx)(Et.BaseControl,{id:`nelio-popups-icon-control-${e}`,label:(0,Ee._x)("Icon","text","nelio-popups"),children:(0,Nt.jsx)(Et.DropdownMenu,{className:Ii,icon:o,label:(0,Ee._x)("Icon","text","nelio-popups"),controls:ji.map((({icon:e,title:o})=>({icon:e,title:o,onClick:()=>n(Object.assign(Object.assign({},t),{icon:"nelio-none"===e?"":`dashicons-${e}`}))})))})})},ki=()=>{const[e,t]=nn("closeButton");return e.isEnabled?(0,Nt.jsx)(Et.TextControl,{label:(0,Ee._x)("Label","text","nelio-popups"),value:e.label,onChange:n=>t(Object.assign(Object.assign({},e),{label:n}))}):null},Ci=()=>{const[e,t]=nn("closeButton");return e.isEnabled?(0,Nt.jsx)(eo,{label:(0,Ee._x)("Button color","text","nelio-popups"),foreground:{color:e.color,onChange:n=>t(Object.assign(Object.assign({},e),{color:n}))},background:{color:e.backgroundColor,onChange:n=>t(Object.assign(Object.assign({},e),{backgroundColor:n}))}}):null},wi=()=>{const[e,t]=nn("closeButton");return e.isEnabled?(0,Nt.jsx)(Bn,{label:(0,Ee._x)("Delay (ms)","text","nelio-popups"),min:0,value:e.delayInMillis,onChange:n=>t(Object.assign(Object.assign({},e),{delayInMillis:n}))}):null},Oi={"top-left":(0,Ee._x)("Top Left","text","nelio-popups"),"top-right":(0,Ee._x)("Top Right","text","nelio-popups"),"bottom-left":(0,Ee._x)("Bottom Left","text","nelio-popups"),"bottom-right":(0,Ee._x)("Bottom Right","text","nelio-popups")},Bi=(0,Se.sortBy)(Object.keys(Oi).map((e=>({value:e,label:Oi[e]}))),"label"),Si=()=>{const[e,t]=nn("closeButton");return e.isEnabled?(0,Nt.jsx)(Et.SelectControl,{label:(0,Ee._x)("Position","text","nelio-popups"),value:e.position,options:Bi,onChange:n=>t(Object.assign(Object.assign({},e),{position:n}))}):null},Ii=Ce({"> button, > button.components-button.has-icon":{border:"1px solid #757575",display:"flex",height:30,justifyContent:"flex-end",padding:"0 4px",width:48},"> button::after, > button.components-button.has-icon::after":{content:'"\\f140"',display:"block",fontFamily:"dashicons"}}),Vi=Ce({display:"flex",flexDirection:"row",gap:"0.5em",marginBottom:"0.5em","> :first-child":{width:"min-content"},"& label":{marginBottom:"8px !important",padding:"0 !important"}}),Ni=Ce({display:"flex",flexDirection:"row",gap:"0.5em",marginBottom:"0.5em","> *":{width:"calc(50% - 0.25em)"}}),Ti={isEnabled:!0,blur:{value:15,unit:"px"},color:"#00000088",offsetX:{value:0,unit:"px"},offsetY:{value:0,unit:"px"}},Ei=()=>(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Ai,{}),(0,Nt.jsx)($i,{}),(0,Nt.jsx)(Pi,{}),(0,Nt.jsx)(Di,{})]}),Ai=()=>{const[e,t]=nn("shadow"),{isEnabled:n}=e;return(0,Nt.jsx)(Et.ToggleControl,{label:(0,Ee._x)("Add popup shadow","command","nelio-popups"),checked:n,onChange:e=>t(Object.assign(Object.assign({},Ti),{isEnabled:e}))})},$i=()=>{const[e,t]=nn("shadow"),{isEnabled:n}=e;return n?(0,Nt.jsx)(ln,{color:e.color,onChange:n=>t(Object.assign(Object.assign({},e),{color:n}))}):null},Pi=()=>{const[e,t]=nn("shadow"),{isEnabled:n}=e;return n?(0,Nt.jsx)(mn,{label:(0,Ee._x)("Shadow blur","text","nelio-popups"),min:0,value:e.blur,onChange:n=>t(Object.assign(Object.assign({},e),{blur:n}))}):null},Di=()=>{const[e,t]=nn("shadow"),{isEnabled:n}=e;return n?(0,Nt.jsxs)("div",{className:Fi,children:[(0,Nt.jsx)(mn,{label:(0,Ee._x)("Horizontal offset","text","nelio-popups"),value:e.offsetX,onChange:n=>t(Object.assign(Object.assign({},e),{offsetX:n}))}),(0,Nt.jsx)(mn,{label:(0,Ee._x)("Vertical offset","text","nelio-popups"),value:e.offsetY,onChange:n=>t(Object.assign(Object.assign({},e),{offsetY:n}))})]}):null},Fi=Ce({display:"flex",flexDirection:"column"}),Ri=()=>(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(hi,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(xi,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(Ei,{})]}),zi=()=>{const[e,t]=tn("zIndex");return(0,Nt.jsx)(Bn,{label:(0,Ee._x)("Z-Index","text","nelio-popups"),value:e,onChange:t})},Mi=e=>{if(!e.isVisible)return null;const t=(0,o.applyFilters)("nelio_popups.get_sound_style_component",Hs);return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Wn,{label:(0,Ee._x)("Customize the popup’s look and feel.","user","nelio-popups")}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(zs,{}),(0,Nt.jsx)(Ns,{}),(0,Nt.jsx)(Us,{}),(0,Nt.jsx)(Bs,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(Ts,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(Ri,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(t,{}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(zi,{})]})},Li={click:(0,Ee._x)("Click","text","nelio-popups"),hover:(0,Ee._x)("Hover","text","nelio-popups")},Gi=(0,Se.sortBy)(Object.keys(Li).map((e=>({value:e,label:Li[e]}))),"label"),Hi=({trigger:e,onChange:t})=>(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Et.SelectControl,{value:e.mode,options:Gi,onChange:n=>t(Object.assign(Object.assign({},e),{mode:n}))}),(0,Nt.jsx)(Et.TextControl,{label:(0,Ee._x)("Element","text","nelio-popups"),placeholder:(0,Ee._x)("CSS Selector","text","nelio-popups"),help:(0,Tt.createInterpolateElement)((0,Ee._x)("Type a <link>valid CSS selector</link>.","user","nelio-popups"),{link:(0,Nt.jsx)("a",{href:"https://www.w3schools.com/cssref/css_selectors.asp",target:"_blank"})}),value:e.elementSelector,onChange:n=>t(Object.assign(Object.assign({},e),{elementSelector:n}))})]});(0,o.addFilter)("nelio_popups.get_mouse_trigger_component","nelio_popups.get_mouse_trigger_component",(()=>Hi));const Wi=({trigger:e,onChange:t})=>(0,Nt.jsx)(mn,{min:0,value:e.value,onChange:n=>t(Object.assign(Object.assign({},e),{value:n}))});(0,o.addFilter)("nelio_popups.get_scroll_trigger_component","nelio_popups.get_scroll_trigger_component",(()=>Wi));const Yi=({trigger:e,onChange:t})=>(0,Nt.jsx)(Bn,{label:(0,Ee._x)("Delay in seconds","text","nelio-popups"),min:0,value:e.seconds,onChange:n=>t(Object.assign(Object.assign({},e),{seconds:n}))});(0,o.addFilter)("nelio_popups.get_time_trigger_component","nelio_popups.get_time_trigger_component",(()=>Yi));const qi=({trigger:e,onChange:t,onRemove:n})=>{const s=(0,Se.sortBy)([...Ie(ze),...Bt("condition",Me)],"disabled","label"),i=(0,o.applyFilters)(`nelio_popups.get_${e.type}_trigger_component`,(()=>null));return(0,Nt.jsxs)("div",{className:je("nelio-popups-trigger-item",Ui),children:[(0,Nt.jsxs)("div",{className:je("nelio-popups-trigger-item__header",Xi),children:[(0,Nt.jsx)("div",{className:"nelio-popups-trigger-item__selector",children:(0,Nt.jsx)(Et.SelectControl,{value:e.type,options:s,onChange:e=>t(xt({type:e}))})}),(0,Nt.jsx)("div",{className:"nelio-popups-trigger-item__remove",children:(0,Nt.jsx)(Et.Button,{title:(0,Ee._x)("Remove","text","nelio-popups"),className:Qi,icon:"no",onClick:()=>n(e)})})]}),(0,Nt.jsx)("div",{className:je("nelio-popups-trigger-item__body",Zi),children:(0,Nt.jsx)(i,{trigger:e,onChange:t})})]})},Ui=Ce({border:"1px solid #e0e0e0",position:"relative",":hover":{backgroundColor:"#f3f2f2"},"&:not(:first-child)":{borderTop:"none",paddingTop:"0.5em"},"&:not(:last-child)":{paddingBottom:"0.5em"},"&:not(:last-child)::before":{display:"block",textAlign:"center",content:`"${(0,Ee._x)("OR","text","nelio-popups")}"`,background:"#fff",borderRadius:"10px",border:"1px solid #e0e0e0",padding:"1px 5px",position:"absolute",bottom:"0",zIndex:1,left:"50%",transform:"translate(-50%, 50%)"}}),Xi=Ce({display:"flex",flexDirection:"row"," > :first-child":{flexGrow:1,padding:"1em",paddingBottom:"5px"}," > :last-child":{flexGrow:0,flexShrink:0,paddingTop:"1px"}}),Zi=Ce({padding:"0 1em 5px 1em"}),Qi=Ce({":hover":{color:"#cc1818"}}),Ji={type:"page-view"},Ki=()=>{const[e,t]=Kt("triggers"),n=n=>t([...e].filter((e=>e!==n))),o=()=>t([...e,Object.assign({},Ji)]);return 0===e.length?(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)("p",{className:ta,children:(0,Ee._x)("This popup does not define triggers to open it. If you wish to open it, add a trigger here or from the pages where you want it to appear.","text","nelio-popups")}),(0,Nt.jsx)(ea,{onAdd:o})]}):(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)("p",{className:ta,children:(0,Ee._x)("Any of the following triggers may open the popup:","text","nelio-popups")}),(0,Nt.jsx)("div",{className:"nelio-popups-trigger-list",children:e.map(((o,s)=>(0,Nt.jsx)(qi,{trigger:o,onRemove:n,onChange:n=>t([...e].map(((e,t)=>t===s?n:e)))},s)))}),(0,Nt.jsx)(ea,{onAdd:o})]})},ea=e=>(0,Nt.jsx)("div",{className:na,children:(0,Nt.jsx)(Et.Button,{variant:"primary",onClick:e.onAdd,children:(0,Ee._x)("Add Trigger","command","nelio-popups")})}),ta=Ce({marginTop:"1em"}),na=Ce({marginTop:"1em",textAlign:"center"}),oa=e=>e.isVisible?(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Wn,{label:(0,Ee._x)("Define which triggers will open the popup.","user","nelio-popups")}),(0,Nt.jsx)(fn,{}),(0,Nt.jsx)(Ki,{})]}):null,sa=()=>{const[e,t]=(0,Tt.useState)("style");return aa(),(0,Nt.jsxs)(At.PluginDocumentSettingPanel,{name:"nelio-popups-settings-panel",className:"nelio-popups-settings-panel",title:(0,Ee._x)("Settings","text","nelio-popups"),children:[(0,Nt.jsxs)(Et.Toolbar,{label:(0,Ee._x)("Settings","text","nelio-popups"),id:"nelio-popups-settings-toolbar",className:ia,children:[(0,Nt.jsx)(Et.ToolbarButton,{icon:"admin-appearance",title:(0,Ee._x)("Style","text","nelio-popups"),isActive:"style"===e,onClick:()=>t("style")}),(0,Nt.jsx)(Et.ToolbarButton,{icon:"admin-page",title:(0,Ee._x)("Locations","text","nelio-popups"),isActive:"targets"===e,onClick:()=>t("targets")}),(0,Nt.jsx)(Et.ToolbarButton,{icon:"visibility",title:(0,Ee._x)("Triggers","text","nelio-popups"),isActive:"triggers"===e,onClick:()=>t("triggers")}),(0,Nt.jsx)(Et.ToolbarButton,{icon:"list-view",title:(0,Ee._x)("Conditions","text","nelio-popups"),isActive:"conditions"===e,onClick:()=>t("conditions")}),(0,Nt.jsx)(Et.ToolbarButton,{icon:"admin-tools",title:(0,Ee._x)("Advanced","text","nelio-popups"),isActive:"advanced"===e,onClick:()=>t("advanced")})]}),(0,Nt.jsx)(Mi,{isVisible:"style"===e}),(0,Nt.jsx)(hs,{isVisible:"targets"===e}),(0,Nt.jsx)(oa,{isVisible:"triggers"===e}),(0,Nt.jsx)(Mo,{isVisible:"conditions"===e}),(0,Nt.jsx)(bo,{isVisible:"advanced"===e})]})},ia=Ce({border:"1px solid #e0e0e0"}),aa=()=>{const e={"box-sizing":"border-box"},[o]=Kt("size");switch(o.type){case"fullscreen":e.height="100vh";break;case"auto":switch(e.padding="0",o.value){case"tiny":e.width="200px";break;case"small":e.width="400px";break;case"medium":e.width="600px";break;case"normal":e.width="800px";break;case"large":e.width="1400px"}break;case"custom":e.padding="0",e.width=la(o.width),"custom-height"===o.height.type&&(e.height=ra(o.height.value),e["overflow-y"]=o.height.isContentScrollable?"auto":"hidden")}const[s]=nn("border");if(s.isEnabled){const t=s.color,n=la(s.radius),o=la(s.width);e.border=`${o} solid ${t}`,e["border-radius"]=n}const[i]=Kt("spacing"),{margin:a,padding:l}=i,r=s.isEnabled?la(s.width):"0px",p=`${la(a.left)} - ${la(a.right)}`,c=`${ra(a.top)} - ${ra(a.bottom)}`,u=`${la(l.left)} - ${la(l.right)}`,d=`${ra(l.top)} - ${ra(l.bottom)}`,x=`calc(2 * ${r})`;e["max-width"]=`calc(100% - ${p} - ${u} - ${x}) !important`,e["max-height"]=`calc(100% - ${c} - ${d} - ${x}) !important`,e["margin-top"]=ra(a.top),e["margin-bottom"]=ra(a.bottom),e["margin-left"]="auto",e["margin-right"]="auto",e["padding-top"]=ra(l.top),e["padding-bottom"]=ra(l.bottom),e["padding-left"]=la(l.left),e["padding-right"]=la(l.right),e["--wp--style--root--padding-left"]="0",e["--wp--style--root--padding-right"]="0";const[g]=nn("shadow");if(g.isEnabled){const t=g.color,n=la(g.offsetX),o=ra(g.offsetY),s=la(g.blur);e["box-shadow"]=`${n} ${o} ${s} ${t}`}const m=`.is-root-container.is-root-container.is-root-container {\n\t\t${Object.entries(e).map((([e,t])=>`${e}: ${t};`)).join(" ")}\n\t}`,h=n((e=>e(At.store).getEditorSettings),[]),{updateEditorSettings:b}=(0,t.useDispatch)(At.store);(0,Tt.useEffect)((()=>{const e=h(),t=e.styles.filter((({id:e=""})=>"nelio-popup-preview"!==e)),n={id:"nelio-popup-preview",css:m,isGlobalStyles:!0};return b(Object.assign(Object.assign({},e),{styles:[...t,n]})),()=>{b(Object.assign(Object.assign({},e),{styles:t}))}}),[m,h,b])},la=({value:e,unit:t})=>`${e}${t}`,ra=({value:e,unit:t})=>`${e}${"%"===t?"vh":t}`,pa=()=>{const[e,t]=ca();return(0,Nt.jsx)(Et.ToggleControl,{className:ua,label:(0,Ee._x)("Activate popup","command","nelio-popups"),checked:e,onChange:e=>{t(e)}})},ca=()=>{const e="nelio_popups_is_enabled",o=n((t=>!!t(At.store).getEditedPostAttribute(e))),{editPost:s}=(0,t.useDispatch)(At.store);return[!!o,t=>s({[e]:t},{undoIgnore:!0})]},ua=Ce({margin:"1.5em 0"}),da=()=>{const[e,t]=xa();return(0,Nt.jsx)(Et.TextControl,{label:(0,Ee._x)("Title","text","nelio-popups"),value:e,onChange:e=>{t(e)}})},xa=()=>{const e=n((e=>e(At.store).getEditedPostAttribute("title"))),{editPost:o}=(0,t.useDispatch)(At.store);return[e||"",e=>o({title:e},{undoIgnore:!0})]},ga=()=>{const{isNew:e,popupId:o}=n((e=>{const{isEditedPostNew:t,getCurrentPostId:n}=e(At.store);return{isNew:!!t(),popupId:n()}})),{trashPost:s}=(0,t.useDispatch)(At.store);return e||!o?null:(0,Nt.jsx)(Et.Button,{className:"editor-post-trash",isDestructive:!0,variant:"secondary",onClick:s,children:(0,Ee.__)("Move to trash")})},ma=()=>(0,Nt.jsxs)(At.PluginDocumentSettingPanel,{name:"nelio-popups-status-panel",className:"nelio-popups-status-panel",title:(0,Ee._x)("Status","text","nelio-popups"),children:[(0,Nt.jsx)(da,{}),(0,Nt.jsx)(pa,{}),(0,Nt.jsx)(ga,{})]}),ha="nelio-popup-js-close",ba=()=>(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(ma,{}),(0,Nt.jsx)(Pt,{}),(0,Nt.jsx)(Wt,{}),(0,Nt.jsx)(sa,{})]}),fa="core/edit-post";Te(window)&&function(e){var n;(0,s.registerPlugin)("nelio-popups",{icon:()=>null,render:ba}),(0,o.addFilter)("editor.BlockEdit","nelio-popups/close-control",(n=e.popupCloseBlocks,(0,Mt.createHigherOrderComponent)((e=>t=>{if(!(o=e,o&&function(e){return!!e}(t)))return(0,Nt.jsx)(e,Object.assign({},t));var o;if(!n.includes(t.name))return(0,Nt.jsx)(e,Object.assign({},t));const{attributes:s,setAttributes:i}=t,{className:a=""}=s,l=a.split(/\s+/);return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(e,Object.assign({},t)),(0,Nt.jsx)(Ft.InspectorControls,{children:(0,Nt.jsx)(Et.PanelBody,{title:(0,Ee._x)("Popup Controls","text","nelio-popups"),initialOpen:!0,children:(0,Nt.jsx)(Et.ToggleControl,{label:(0,Ee._x)("Close popup","command","nelio-popups"),help:(0,Ee._x)("Close the popup when clicking this block.","text","nelio-popups"),checked:l.includes(ha),onChange:e=>{const t=(0,Se.without)(l,ha);i({className:(e?[ha,...t]:t).join(" ")})}})})})]})}),"PopupCloseControl"))),function(){if(!(0,t.select)(fa))return;const{isEditorPanelOpened:e}=(0,t.select)(fa),{toggleEditorPanelOpened:n}=(0,t.dispatch)(fa);["nelio-popups/nelio-popups-status-panel","nelio-popups/nelio-popups-settings-panel"].forEach((t=>!e(t)&&void n(t)))}();_e(`\n\t\t${".editor-post-switch-to-draft"},\n\t\t${".edit-post-header__settings > .components-button:first-child"},\n\t\t${".block-editor-post-preview__dropdown"},\n\t\t${'.edit-post-header__settings > a[target="_blank"]'},\n\t\t${".components-snackbar__content > a"},\n\t\t.edit-post-post-status {\n\t\t\tdisplay: none !important;\n\t\t}\n\t\t${".editor-post-preview"} {\n\t\t\tdisplay: flex !important;\n\t\t}\n\t`)}(function(){const e=Te(window)?window.NelioPopupsEditorSettings:{};return Object.assign({popupCloseBlocks:[],popupOpenBlocks:[]},e)}())})();