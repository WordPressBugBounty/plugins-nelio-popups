(()=>{"use strict";const e=window.ReactJSXRuntime,t=window.wp.hooks,n=window.wp.plugins,o=window.wp.components,r=window.wp.data;function i(e,t){return(0,r.useSelect)(e,t)}const s=window.wp.editor,a=window.wp.i18n,p=window.wp.compose;var l=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),u=Math.abs,c=String.fromCharCode,d=Object.assign;function f(e){return e.trim()}function x(e,t,n){return e.replace(t,n)}function h(e,t){return e.indexOf(t)}function m(e,t){return 0|e.charCodeAt(t)}function g(e,t,n){return e.slice(t,n)}function v(e){return e.length}function y(e){return e.length}function b(e,t){return t.push(e),e}var _=1,w=1,k=0,C=0,S=0,j="";function $(e,t,n,o,r,i,s){return{value:e,root:t,parent:n,type:o,props:r,children:i,line:_,column:w,length:s,return:""}}function A(e,t){return d($("",null,null,"",null,null,0),e,{length:-e.length},t)}function O(){return S=C>0?m(j,--C):0,w--,10===S&&(w=1,_--),S}function T(){return S=C<k?m(j,C++):0,w++,10===S&&(w=1,_++),S}function E(){return m(j,C)}function R(){return C}function P(e,t){return g(j,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L(e){return _=w=1,k=v(j=e),C=0,[]}function N(e){return j="",e}function z(e){return f(P(C-1,D(91===e?e+2:40===e?e+1:e)))}function W(e){for(;(S=E())&&S<33;)T();return I(e)>2||I(S)>3?"":" "}function F(e,t){for(;--t&&T()&&!(S<48||S>102||S>57&&S<65||S>70&&S<97););return P(e,R()+(t<6&&32==E()&&32==T()))}function D(e){for(;T();)switch(S){case e:return C;case 34:case 39:34!==e&&39!==e&&D(S);break;case 40:41===e&&D(e);break;case 92:T()}return C}function M(e,t){for(;T()&&e+S!==57&&(e+S!==84||47!==E()););return"/*"+P(t,C-1)+"*"+c(47===e?e:T())}function G(e){for(;!I(E());)T();return P(e,C)}var B="-ms-",H="-moz-",q="-webkit-",Q="comm",J="rule",X="decl",Z="@keyframes";function U(e,t){for(var n="",o=y(e),r=0;r<o;r++)n+=t(e[r],r,e,t)||"";return n}function V(e,t,n,o){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case X:return e.return=e.return||e.value;case Q:return"";case Z:return e.return=e.value+"{"+U(e.children,o)+"}";case J:e.value=e.props.join(",")}return v(n=U(e.children,o))?e.return=e.value+"{"+n+"}":""}function K(e){return N(Y("",null,null,null,[""],e=L(e),0,[0],e))}function Y(e,t,n,o,r,i,s,a,p){for(var l=0,u=0,d=s,f=0,g=0,y=0,_=1,w=1,k=1,C=0,S="",j=r,$=i,A=o,P=S;w;)switch(y=C,C=T()){case 40:if(108!=y&&58==m(P,d-1)){-1!=h(P+=x(z(C),"&","&\f"),"&\f")&&(k=-1);break}case 34:case 39:case 91:P+=z(C);break;case 9:case 10:case 13:case 32:P+=W(y);break;case 92:P+=F(R()-1,7);continue;case 47:switch(E()){case 42:case 47:b(te(M(T(),R()),t,n),p);break;default:P+="/"}break;case 123*_:a[l++]=v(P)*k;case 125*_:case 59:case 0:switch(C){case 0:case 125:w=0;case 59+u:-1==k&&(P=x(P,/\f/g,"")),g>0&&v(P)-d&&b(g>32?ne(P+";",o,n,d-1):ne(x(P," ","")+";",o,n,d-2),p);break;case 59:P+=";";default:if(b(A=ee(P,t,n,l,u,r,a,S,j=[],$=[],d),i),123===C)if(0===u)Y(P,t,A,A,j,i,d,a,$);else switch(99===f&&110===m(P,3)?100:f){case 100:case 108:case 109:case 115:Y(e,A,A,o&&b(ee(e,A,A,0,0,r,a,S,r,j=[],d),$),r,$,d,a,o?j:$);break;default:Y(P,A,A,A,[""],$,0,a,$)}}l=u=g=0,_=k=1,S=P="",d=s;break;case 58:d=1+v(P),g=y;default:if(_<1)if(123==C)--_;else if(125==C&&0==_++&&125==O())continue;switch(P+=c(C),C*_){case 38:k=u>0?1:(P+="\f",-1);break;case 44:a[l++]=(v(P)-1)*k,k=1;break;case 64:45===E()&&(P+=z(T())),f=E(),u=d=v(S=P+=G(R())),C++;break;case 45:45===y&&2==v(P)&&(_=0)}}return i}function ee(e,t,n,o,r,i,s,a,p,l,c){for(var d=r-1,h=0===r?i:[""],m=y(h),v=0,b=0,_=0;v<o;++v)for(var w=0,k=g(e,d+1,d=u(b=s[v])),C=e;w<m;++w)(C=f(b>0?h[w]+" "+k:x(k,/&\f/g,h[w])))&&(p[_++]=C);return $(e,t,n,0===r?J:a,p,l,c)}function te(e,t,n){return $(e,t,n,Q,c(S),g(e,2,-2),0)}function ne(e,t,n,o){return $(e,t,n,X,g(e,0,o),g(e,o+1,-1),o)}var oe=function(e,t,n){for(var o=0,r=0;o=r,r=E(),38===o&&12===r&&(t[n]=1),!I(r);)T();return P(e,C)},re=new WeakMap,ie=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,o=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||re.get(n))&&!o){re.set(e,!0);for(var r=[],i=function(e,t){return N(function(e,t){var n=-1,o=44;do{switch(I(o)){case 0:38===o&&12===E()&&(t[n]=1),e[n]+=oe(C-1,t,n);break;case 2:e[n]+=z(o);break;case 4:if(44===o){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=c(o)}}while(o=T());return e}(L(e),t))}(t,r),s=n.props,a=0,p=0;a<i.length;a++)for(var l=0;l<s.length;l++,p++)e.props[p]=r[a]?i[a].replace(/&\f/g,s[l]):s[l]+" "+i[a]}}},se=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ae(e,t){switch(function(e,t){return 45^m(e,0)?(((t<<2^m(e,0))<<2^m(e,1))<<2^m(e,2))<<2^m(e,3):0}(e,t)){case 5103:return q+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return q+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return q+e+H+e+B+e+e;case 6828:case 4268:return q+e+B+e+e;case 6165:return q+e+B+"flex-"+e+e;case 5187:return q+e+x(e,/(\w+).+(:[^]+)/,q+"box-$1$2"+B+"flex-$1$2")+e;case 5443:return q+e+B+"flex-item-"+x(e,/flex-|-self/,"")+e;case 4675:return q+e+B+"flex-line-pack"+x(e,/align-content|flex-|-self/,"")+e;case 5548:return q+e+B+x(e,"shrink","negative")+e;case 5292:return q+e+B+x(e,"basis","preferred-size")+e;case 6060:return q+"box-"+x(e,"-grow","")+q+e+B+x(e,"grow","positive")+e;case 4554:return q+x(e,/([^-])(transform)/g,"$1"+q+"$2")+e;case 6187:return x(x(x(e,/(zoom-|grab)/,q+"$1"),/(image-set)/,q+"$1"),e,"")+e;case 5495:case 3959:return x(e,/(image-set\([^]*)/,q+"$1$`$1");case 4968:return x(x(e,/(.+:)(flex-)?(.*)/,q+"box-pack:$3"+B+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+q+e+e;case 4095:case 3583:case 4068:case 2532:return x(e,/(.+)-inline(.+)/,q+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(v(e)-1-t>6)switch(m(e,t+1)){case 109:if(45!==m(e,t+4))break;case 102:return x(e,/(.+:)(.+)-([^]+)/,"$1"+q+"$2-$3$1"+H+(108==m(e,t+3)?"$3":"$2-$3"))+e;case 115:return~h(e,"stretch")?ae(x(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==m(e,t+1))break;case 6444:switch(m(e,v(e)-3-(~h(e,"!important")&&10))){case 107:return x(e,":",":"+q)+e;case 101:return x(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+q+(45===m(e,14)?"inline-":"")+"box$3$1"+q+"$2$3$1"+B+"$2box$3")+e}break;case 5936:switch(m(e,t+11)){case 114:return q+e+B+x(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return q+e+B+x(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return q+e+B+x(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return q+e+B+e+e}return e}var pe=[function(e,t,n,o){if(e.length>-1&&!e.return)switch(e.type){case X:e.return=ae(e.value,e.length);break;case Z:return U([A(e,{value:x(e.value,"@","@"+q)})],o);case J:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return U([A(e,{props:[x(t,/:(read-\w+)/,":-moz-$1")]})],o);case"::placeholder":return U([A(e,{props:[x(t,/:(plac\w+)/,":"+q+"input-$1")]}),A(e,{props:[x(t,/:(plac\w+)/,":-moz-$1")]}),A(e,{props:[x(t,/:(plac\w+)/,B+"input-$1")]})],o)}return""}))}}],le={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ue(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ce=/[A-Z]|^ms/g,de=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fe=function(e){return 45===e.charCodeAt(1)},xe=function(e){return null!=e&&"boolean"!=typeof e},he=ue((function(e){return fe(e)?e:e.replace(ce,"-$&").toLowerCase()})),me=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(de,(function(e,t,n){return ve={name:t,styles:n,next:ve},t}))}return 1===le[e]||fe(e)||"number"!=typeof t||0===t?t:t+"px"};function ge(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ve={name:n.name,styles:n.styles,next:ve},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)ve={name:o.name,styles:o.styles,next:ve},o=o.next;return n.styles+";"}return function(e,t,n){var o="";if(Array.isArray(n))for(var r=0;r<n.length;r++)o+=ge(e,t,n[r])+";";else for(var i in n){var s=n[i];if("object"!=typeof s)null!=t&&void 0!==t[s]?o+=i+"{"+t[s]+"}":xe(s)&&(o+=he(i)+":"+me(i,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=ge(e,t,s);switch(i){case"animation":case"animationName":o+=he(i)+":"+a+";";break;default:o+=i+"{"+a+"}"}}else for(var p=0;p<s.length;p++)xe(s[p])&&(o+=he(i)+":"+me(i,s[p])+";")}return o}(e,t,n);case"function":if(void 0!==e){var r=ve,i=n(e);return ve=r,ge(e,t,i)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var ve,ye=/label:\s*([^\s;\n{]+)\s*(;|$)/g,be=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,r="";ve=void 0;var i=e[0];null==i||void 0===i.raw?(o=!1,r+=ge(n,t,i)):r+=i[0];for(var s=1;s<e.length;s++)r+=ge(n,t,e[s]),o&&(r+=i[s]);ye.lastIndex=0;for(var a,p="";null!==(a=ye.exec(r));)p+="-"+a[1];var l=function(e){for(var t,n=0,o=0,r=e.length;r>=4;++o,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+p;return{name:l,styles:r,next:ve}};function _e(e,t,n){var o="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):o+=n+" "})),o}function we(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function ke(e,t,n){var o=[],r=_e(e,o,n);return o.length<2?n:r+t(o)}var Ce=function e(t){for(var n="",o=0;o<t.length;o++){var r=t[o];if(null!=r){var i=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))i=e(r);else for(var s in i="",r)r[s]&&s&&(i&&(i+=" "),i+=s);break;default:i=r}i&&(n&&(n+=" "),n+=i)}}return n};const{cx:Se,injectGlobal:je,keyframes:$e,css:Ae}=function(e){var t=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,r,i=e.stylisPlugins||pe,s={},a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var p,u,c,d,f=[V,(d=function(e){p.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],x=(u=[ie,se].concat(i,f),c=y(u),function(e,t,n,o){for(var r="",i=0;i<c;i++)r+=u[i](e,t,n,o)||"";return r});r=function(e,t,n,o){p=n,U(K(e?e+"{"+t.styles+"}":t.styles),x),o&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new l({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:r};return h.sheet.hydrate(a),h}({key:"nelio-popups"});t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=be(n,t.registered,void 0);return function(e,t,n){!function(e,t,n){var o=e.key+"-"+t.name;void 0===e.registered[o]&&(e.registered[o]=t.styles)}(e,t);var o=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+o:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,r),t.key+"-"+r.name};return{css:n,cx:function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return ke(t.registered,n,Ce(o))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=be(n,t.registered);we(t,r)},keyframes:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=be(n,t.registered),i="animation-"+r.name;return we(t,{name:r.name,styles:"@keyframes "+i+"{"+r.styles+"}"}),i},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:_e.bind(null,t.registered),merge:ke.bind(null,t.registered,n)}}(),Oe=(Ae({border:"1px solid #dadada",display:"inline-block",height:16,marginLeft:"0.8rem",position:"relative",width:25,"&::before":{backgroundImage:"linear-gradient(45deg, #ddd 25%, transparent 0),linear-gradient(-45deg, #ddd 25%, transparent 0),linear-gradient(45deg, transparent 75%, #ddd 0),linear-gradient(-45deg, transparent 75%, #ddd 0)",backgroundSize:"10px 10px",backgroundPosition:"0 0,0 5px,5px -5px,-5px 0",content:'""',display:"block",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}}),window.wp.element);Ae({display:"flex",flexDirection:"row",justifyContent:"flex-end"});const Te=window.lodash;Ae({display:"flex",flexDirection:"row","& > :first-child":{flexGrow:1},'& input[type="text"]':{borderTopRightRadius:0,borderBottomRightRadius:0},"& .components-input-control__backdrop":{borderTopLeftRadius:"0 !important",borderBottomLeftRadius:"0 !important"},"& > :last-child":{flexGrow:1}}),Ae({position:"relative","& > :first-child":{color:"#777",fontSize:"max(10px, 0.8em)",left:"50%",pointerEvents:"none",position:"absolute",textTransform:"uppercase",top:6,transform:"translate(-50%, 0px)",userSelect:"none",zIndex:3},"& select":{opacity:0},"& svg":{opacity:0}}),Ae({"& .nelio-popups-unit":{maxWidth:"26px"},"& .nelio-popups-unit > span":{fontSize:"9px"}});const Ee={"greater-than":(0,a._x)("greater than","text","nelio-popups"),"less-than":(0,a._x)("less than","text","nelio-popups"),between:(0,a._x)("between","text","nelio-popups")},Re=(Object.keys(Ee).map((e=>({value:e,label:Ee[e]}))),Ae({'input[type="date"]':{paddingTop:0,paddingBottom:0}}),Ae({".components-form-token-field__input-container":{background:"#fff"},".components-form-token-field__help":{display:"none"},".components-form-token-field__label":{display:"none"}}),{is:(0,a._x)("is","text","nelio-popups"),"is-not":(0,a._x)("is not","text","nelio-popups")}),Pe=(Object.keys(Re).map((e=>({value:e,label:Re[e]}))),{is:(0,a._x)("has value equal to","text","nelio-popups"),"is-not":(0,a._x)("has value different from","text","nelio-popups"),includes:(0,a._x)("has value that includes","text","nelio-popups"),"does-not-include":(0,a._x)("has value that does not include","text","nelio-popups"),regex:(0,a._x)("has value that matches","text","nelio-popups")});(0,a._x)("exists","text","nelio-popups"),(0,a._x)("does not exist","text","nelio-popups"),Object.keys(Pe).map((e=>({value:e,label:Pe[e]})));const Ie={"greater-than":(0,a._x)("greater than","text","nelio-popups"),"less-than":(0,a._x)("less than","text","nelio-popups"),between:(0,a._x)("between","text","nelio-popups")},Le=(Object.keys(Ie).map((e=>({value:e,label:Ie[e]}))),"nelio-popup-js-open");(0,a._x)("None","text (animation type)","nelio-popups"),(0,a._x)("Fade","text (animation type)","nelio-popups"),(0,a._x)("Slide","text (animation type)","nelio-popups"),(0,a._x)("Slide and fade","text (animation type)","nelio-popups"),(0,a._x)("Zoom","text (animation type)","nelio-popups"),(0,a._x)("Back","text (animation type)","nelio-popups"),(0,a._x)("Bounce","text (animation type)","nelio-popups"),(0,a._x)("Flip horizontally","text (animation type)","nelio-popups"),(0,a._x)("Flip vertically","text (animation type)","nelio-popups"),(0,a._x)("Roll","text (animation type)","nelio-popups"),(0,a._x)("Rotate","text (animation type)","nelio-popups"),(0,a._x)("Cookie","text","nelio-popups"),(0,a._x)("Referrer","text","nelio-popups"),(0,a._x)("Content is","text","nelio-popups"),(0,a._x)("Content is not","text","nelio-popups"),(0,a._x)("Adblock is detected","text","nelio-popups"),(0,a._x)("Browser","text","nelio-popups"),(0,a._x)("Custom JS function","text","nelio-popups"),(0,a._x)("Date","text","nelio-popups"),(0,a._x)("Day of Week","text","nelio-popups"),(0,a._x)("Device","text","nelio-popups"),(0,a._x)("Country","text","nelio-popups"),(0,a._x)("Language","text","nelio-popups"),(0,a._x)("Operating System","text","nelio-popups"),(0,a._x)("Query Parameter","text","nelio-popups"),(0,a._x)("Time Period","text","nelio-popups"),(0,a._x)("Visitor","text","nelio-popups"),(0,a._x)("Window Width","text","nelio-popups"),(0,a._x)("WooCommerce","text","nelio-popups"),(0,a._x)("Taxonomy is","text","nelio-popups"),(0,a._x)("Taxonomy is not","text","nelio-popups"),(0,a._x)("URL","text","nelio-popups"),(0,a._x)("Mouse action","text","nelio-popups"),(0,a._x)("Page view","text","nelio-popups"),(0,a._x)("Scroll offset","text","nelio-popups"),(0,a._x)("Time delay","text","nelio-popups"),(0,a._x)("Exit intent","text","nelio-popups"),(0,a._x)("HTML Element","text","nelio-popups"),(0,a._x)("Inactivity","text","nelio-popups"),(0,a._x)("Manual","text","nelio-popups"),(0,a._x)("Time on site","text","nelio-popups"),(0,a._x)("WooCommerce","text","nelio-popups"),window.Node,window.XPathResult;const Ne=window.wp.coreData,ze=e=>!!e&&"object"==typeof e&&"id"in e&&!!e.id&&"slug"in e&&!!e.slug&&"type"in e&&!!e.type&&"title"in e&&!!e.title&&"object"==typeof e.title&&"raw"in e.title&&!!e.title.raw,We=e=>!!e&&"object"==typeof e&&"id"in e&&!!e.id&&"slug"in e&&!!e.slug&&"name"in e&&!!e.name,Fe=({className:t,kind:n,name:r,label:s,placeholder:p,value:l,disabled:u,isSingle:c,onChange:d})=>{const[f,x]=(0,Oe.useState)(!1),h=function(e,t){const n=i((e=>e(Ne.store).getPostTypes({per_page:-1})))||[],o=(0,Te.filter)(i((e=>e(Ne.store).getTaxonomies({per_page:-1}))),(e=>e.visibility.public)),r="postType"===e?n:o;return(0,Te.find)(r,{slug:t})}(n,r),m=c&&!!l.length,{setQuery:g,items:v,loadMoreItems:y}=De(n,r,{exclude:l}),b=(0,Oe.useRef)(null);Me(b,y),Ge(b,x);const _=function(e,t,n){n=null!=n?n:[];const o=i((o=>{const{getEntityRecord:r}=o(Ne.store);return n.map((n=>r(e,t,n)))})),r=i((o=>{const{hasFinishedResolution:r}=o(Ne.store);return n.map((n=>r("getEntityRecord",[e,t,n])))})),s=(0,Te.every)(r),a="postType"===e?(0,Te.filter)(o,ze):(0,Te.filter)(o,We),p=a.map((({id:e})=>e)),l=n.filter((e=>!p.includes(e)));return s?{finished:!0,items:a,missingItems:l}:{finished:!1,items:a,pendingItems:l}}(n,r,l),w=[..._.items.map(Ue),..._.finished?_.missingItems.map(Be):_.pendingItems.map(He)];return(0,e.jsx)("div",{ref:b,className:Se(Ke,{[Ye]:m},t),children:(0,e.jsx)(o.FormTokenField,{value:w.map(Je),disabled:u||!h,suggestions:v.map((e=>e.name)),onInputChange:g,onChange:e=>{var t;const n=null!==(t=e.find(Te.isString))&&void 0!==t?t:"",o=Qe(n,v);d([...e,{itemId:null==o?void 0:o.id}].filter(Xe).map((e=>e.itemId)))},maxLength:c?1:void 0,label:s||"",__experimentalShowHowTo:!c,__experimentalExpandOnFocus:f&&!m,placeholder:h?null!=p?p:(0,a._x)("Search","command","nelio-popups"):(0,a._x)("Loading…","text","nelio-popups")})})},De=(e,t,n)=>{var o,r;const[s,a]=(0,Oe.useState)([]),[p,l]=(0,Oe.useState)(""),[u,c]=(0,Oe.useState)(1),d=function(e,t,n){n=Object.assign({per_page:10},n);const o=i((o=>o(Ne.store).getEntityRecords(e,t,n)));if(!i((o=>o(Ne.store).hasFinishedResolution("getEntityRecords",[e,t,n]))))return{finished:!1};const r="postType"===e?(0,Te.filter)(o,ze):(0,Te.filter)(o,We);return{finished:!0,items:r,more:n.per_page===r.length}}(e,t,Object.assign(Object.assign({},n),{search:p,page:u,nelio_popups_search_by_title:!0}));return(0,Oe.useEffect)((()=>{if(!d.finished)return;const e=d.items.map(Ue);a(1===u?e:[...s,...e])}),[null!==(r=null===(o=n.exclude)||void 0===o?void 0:o.join(","))&&void 0!==r?r:"",d.finished,p,u]),{items:qe(Object.assign(Object.assign({},n),{search:p}),s),loadMoreItems:d.finished&&d.more?()=>c(u+1):void 0,setQuery:(0,Te.debounce)(l,1e3)}},Me=(e,t=Te.noop)=>(0,Oe.useEffect)((()=>{var n;const o=(0,Te.debounce)((e=>e.target&&Ve(e.target)&&t()),200),r={capture:!0};return null===(n=e.current)||void 0===n||n.addEventListener("scroll",o,r),()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.removeEventListener("scroll",o,r)}}),[t,e.current]),Ge=(e,t=Te.noop)=>(0,Oe.useEffect)((()=>{var n,o;const r=()=>t(!0),i=()=>t(!1),s={capture:!0};return null===(n=e.current)||void 0===n||n.addEventListener("focus",r,s),null===(o=e.current)||void 0===o||o.addEventListener("blur",i,s),()=>{var t,n;null===(t=e.current)||void 0===t||t.removeEventListener("focus",r,s),null===(n=e.current)||void 0===n||n.removeEventListener("blur",i,s)}}),[t,e.current]),Be=e=>({id:e,
/* translators: item id */
name:(0,a.sprintf)((0,a._x)("Missing item %d","text","nelio-popups"),e)}),He=e=>({id:e,name:(0,a.sprintf)(/* translators: an id */ /* translators: an id */
(0,a._x)("Loading item %d…","text","nelio-popups"),e)}),qe=(e,t)=>{if(e.search){const{search:n}=e;t=t.filter((e=>e.name.toLowerCase().includes(n.toLowerCase())))}if(e.exclude){const{exclude:n}=e;t=t.filter((({id:e})=>!n.includes(e)))}return t},Qe=(e,t)=>t.find((t=>t.name.toLowerCase()===e.toLowerCase())),Je=e=>({itemId:e.id,value:e.name,title:e.name}),Xe=e=>!!e.itemId,Ze=e=>e.name?e.name:e.title.raw,Ue=e=>({id:e.id,name:(0,a.sprintf)("%1$s (%2$d)",Ze(e).replace(/,/g,""),e.id)}),Ve=e=>e.scrollHeight-e.scrollTop===e.clientHeight,Ke=Ae({"& .components-form-token-field__input-container":{background:"#fff"},"& .components-form-token-field__help, & .components-form-token-field__label":{display:"none"},"& ul.components-form-token-field__suggestions-list":{margin:"0",padding:"0"}}),Ye=Ae({'& input[type="text"].components-form-token-field__input':{height:"0!important",minHeight:"0!important",minWidth:"0!important",opacity:"0",width:"0!important"}}),et=({postType:t,value:n,disabled:o,isSingle:r,onChange:i})=>(0,e.jsx)(Fe,{kind:"postType",name:t,value:n,disabled:o,isSingle:r,onChange:i}),tt=(Ae({color:"#757575",paddingTop:"1em"}),{is:(0,a._x)("is equal to","text","nelio-popups"),"is-not":(0,a._x)("is not equal to","text","nelio-popups"),includes:(0,a._x)("includes","text","nelio-popups"),"does-not-include":(0,a._x)("does not include","text","nelio-popups"),regex:(0,a._x)("matches regular expression","text","nelio-popups")});Object.keys(tt).map((e=>({value:e,label:tt[e]}))),window.wp.apiFetch,window.wp.url,(0,a._x)("secs","text (short seconds)","nelio-popups"),(0,a._x)("seconds","text","nelio-popups"),(0,a._x)("mins","text (short minutes)","nelio-popups"),(0,a._x)("minutes","text","nelio-popups"),(0,a._x)("hours","text (short hours)","nelio-popups"),(0,a._x)("hours","text","nelio-popups"),(0,a._x)("days","text (short days)","nelio-popups"),(0,a._x)("days","text","nelio-popups"),(0,a._x)("months","text (short months)","nelio-popups"),(0,a._x)("months","text","nelio-popups"),Ae({display:"flex",flexDirection:"row",gap:"1em",justifyContent:"flex-end",marginTop:"0.5em"});const nt=[{value:"none",label:(0,a._x)("None","text (popup)","nelio-popups")},{value:"auto",label:(0,a._x)("Auto Selection","text (popup)","nelio-popups")},{value:"manual",label:(0,a._x)("Manual Selection","text (popup)","nelio-popups")}],ot=({postTypes:t})=>{const n=i((e=>e(s.store).getCurrentPostType())),[p,l]=function(e,t){const n=i((t=>t(s.store).getEditedPostAttribute(e)))||"auto",{editPost:o}=(0,r.useDispatch)(s.store);return[n,t=>o({[e]:t},{undoIgnore:!0})]}("nelio_popups_active_popup");if(!t.includes(n))return null;const u="none"!==p&&"auto"!==p,c=it(p);return(0,e.jsxs)(s.PluginDocumentSettingPanel,{name:"nelio-popups-open-panel",className:"nelio-popups-open-panel",title:(0,a._x)("Nelio Popups","text","nelio-popups"),children:[(0,e.jsx)(o.SelectControl,{label:(0,a._x)("Active popups","text","nelio-popups"),value:u?"manual":p,options:nt,onChange:l}),u&&(0,e.jsx)(et,{postType:"nelio_popup",value:c,onChange:e=>l(rt(e))})]})},rt=e=>e.join(",")||"manual",it=e=>e.split(",").map((e=>parseInt(e)||0)).filter((e=>e>0)),st=window.wp.blockEditor,at=({settings:t})=>(0,e.jsx)(ot,{postTypes:t.postTypes});var pt,lt;window.NelioPopupsSettings&&(pt=window.NelioPopupsSettings,(0,n.registerPlugin)("nelio-popups-external",{icon:()=>null,render:()=>(0,e.jsx)(at,{settings:pt})}),(0,t.addFilter)("editor.BlockEdit","nelio-popups/trigger-open-control",(lt=pt.popupOpenBlocks,(0,p.createHigherOrderComponent)((t=>n=>{if(!(r=t,r&&function(e){return!!e}(n)))return(0,e.jsx)(t,Object.assign({},n));var r;if(!lt.includes(n.name))return(0,e.jsx)(t,Object.assign({},n));const{attributes:i,setAttributes:s}=n,{className:p=""}=i,l=p.split(/\s+/),u=l.filter((e=>e.startsWith(Le))).map((e=>parseInt(e.replace(/^\D+/g,""))));return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t,Object.assign({},n)),(0,e.jsx)(st.InspectorControls,{children:(0,e.jsxs)(o.PanelBody,{title:(0,a._x)("Popup Controls","text","nelio-popups"),initialOpen:!0,children:[(0,e.jsx)(o.PanelRow,{children:(0,a._x)("Opens a popup when clicking this block.","text","nelio-popups")}),(0,e.jsx)(Fe,{kind:"postType",name:"nelio_popup",placeholder:(0,a._x)("Select a popup…","command","nelio-popups"),value:(c=u,void 0!==c[0]?[u[0]]:[]),isSingle:!0,onChange:e=>{const t=l.filter((e=>!e.startsWith(Le)));s({className:(e.length?[`${Le}-${e[0]}`,...t]:t).join(" ")})}})]})})]});var c}),"PopupOpenControl"))))})();