(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.ReactJSXRuntime,n=window.wp.element,o=window.wp.domReady,a=e.n(o)(),i=window.wp.apiFetch,r=e.n(i)(),d=window.wp.components,c=window.wp.i18n;const p=({popupId:e,initialValue:n,disabled:o})=>{const{enabled:a,enable:i,isSynching:r}=l(e,n);return(0,t.jsx)(d.ToggleControl,{disabled:o||r,label:(0,t.jsx)("span",{className:"screen-reader-text",children:(0,c._x)("Activate popup","command","nelio-popups")}),checked:a,onChange:e=>{i(e)}})},l=(e,t)=>{const[o,a]=(0,n.useState)(t),[i,d]=(0,n.useState)(!1);return{enabled:o,enable:t=>{return n=void 0,i=void 0,p=function*(){d(!0);try{const n=yield r({path:`/wp/v2/nelio_popup/${e}`,method:"POST",data:{nelio_popups_is_enabled:t}});a(!!(null==n?void 0:n.nelio_popups_is_enabled))}catch(e){a(o)}d(!1)},new((c=void 0)||(c=Promise))((function(e,t){function o(e){try{r(p.next(e))}catch(e){t(e)}}function a(e){try{r(p.throw(e))}catch(e){t(e)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof c?n:new c((function(e){e(n)}))).then(o,a)}r((p=p.apply(n,i||[])).next())}));var n,i,c,p},isSynching:i}};a((function(){document.querySelectorAll(".nelio-popups-active-wrapper").forEach((e=>{const o=Number.parseInt(e.getAttribute("data-id")||"");if(isNaN(o))return;const a="true"===e.getAttribute("data-checked"),i="true"===e.getAttribute("data-disabled");var r,d;r=(0,t.jsx)(p,{popupId:o,initialValue:a,disabled:i}),(d=e)&&(n.createRoot?(0,n.createRoot)(d).render(r):(0,n.render)(r,d))}))}))})();